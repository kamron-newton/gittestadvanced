<?xml version="1.0" encoding="UTF-8"?>
<con:testCase id="11a578f1-9381-4a2d-80c4-b96d2e117662" discardOkResults="false" failOnError="true" failTestCaseOnErrors="true" keepSession="false" name="ReturnTransactionMomentCap" searchProperties="true" timeout="0" xmlns:con="http://eviware.com/soapui/config">
  <con:settings>
    <con:setting id="11a578f1-9381-4a2d-80c4-b96d2e117662fileName">ReturnTransactionMomentCap</con:setting>
  </con:settings>
  <con:testStep type="datasource" name="MomentsCap" id="53a175b5-75b1-4b3d-8825-3943a2519f6b">
    <con:settings/>
    <con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:dataSource type="File">
        <con:configuration>
          <fileName>${#Project#ProjectPath}/References/MomentsCap.csv</fileName>
          <separator>,</separator>
          <trim>true</trim>
          <charset>Cp1252</charset>
          <quotedValues>true</quotedValues>
        </con:configuration>
      </con:dataSource>
      <con:shared>true</con:shared>
      <con:restartShared>true</con:restartShared>
      <con:property>row</con:property>
      <con:property>ProgramCode</con:property>
      <con:property>MomentCode</con:property>
      <con:property>MomentType</con:property>
      <con:property>BaseInd</con:property>
      <con:property>PointTypeVal</con:property>
      <con:property>PointSubTypeVal</con:property>
      <con:property>StartDate</con:property>
      <con:property>EndDate</con:property>
      <con:property>Description</con:property>
      <con:property>QualifyingDateAttribute</con:property>
      <con:property>QualifyingDateAttributeDrools</con:property>
      <con:property>EventType</con:property>
      <con:property>OfferName</con:property>
      <con:property>CalculationTemplate</con:property>
      <con:property>OutcomeEquationTemplate</con:property>
      <con:property>OutcomeEquationDrools1</con:property>
      <con:property>FormulaName</con:property>
      <con:property>CapName</con:property>
      <con:property>CapValue</con:property>
      <con:property>CapType</con:property>
      <con:property>OutcomeEquationUiVal</con:property>
      <con:property>CapName1</con:property>
      <con:property>CapValue1</con:property>
      <con:property>CapName2</con:property>
      <con:property>CapValue2</con:property>
      <con:property>CapType2</con:property>
      <con:property>CapName3</con:property>
      <con:property>CapValue3</con:property>
      <con:property>CapType3</con:property>
      <con:startRow>1</con:startRow>
      <con:endRow>1</con:endRow>
      <con:recordsPerIteration>1</con:recordsPerIteration>
      <con:completeLastOperation>true</con:completeLastOperation>
      <con:trimValues>false</con:trimValues>
      <con:entitizeValues>false</con:entitizeValues>
      <con:restartOnRun>true</con:restartOnRun>
      <con:expandProperties>false</con:expandProperties>
    </con:config>
  </con:testStep>
  <con:testStep type="datasource" name="PurchaseTransactionMomentCap" id="b28b4b51-49f9-4b8e-a16f-877c89039ae3">
    <con:settings/>
    <con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:dataSource type="File">
        <con:configuration>
          <fileName>${#Project#ProjectPath}/References/PurchaseTransactionMomentCap.csv</fileName>
          <separator>,</separator>
          <trim>true</trim>
          <charset>Cp1252</charset>
          <quotedValues>true</quotedValues>
        </con:configuration>
      </con:dataSource>
      <con:shared>true</con:shared>
      <con:restartShared>true</con:restartShared>
      <con:property>ProgramCode</con:property>
      <con:property>TransactionTypeCode</con:property>
      <con:property>TransactionNetTotal</con:property>
      <con:property>TransactionEligible</con:property>
      <con:property>ShippingAndHandling</con:property>
      <con:property>TransactionTotalTax</con:property>
      <con:property>TransNumber</con:property>
      <con:property>CurrencyCode</con:property>
      <con:property>PostingDateTime</con:property>
      <con:property>TransDate</con:property>
      <con:property>OnlyAddTransData</con:property>
      <con:property>SuspendTransaction</con:property>
      <con:property>TransactionDescription</con:property>
      <con:property>StoreCode</con:property>
      <con:property>GrossAmount</con:property>
      <con:property>TaxAmount</con:property>
      <con:property>DollarValueGross</con:property>
      <con:property>DollarValueNet</con:property>
      <con:property>ItemNumber1</con:property>
      <con:property>ItemNumber2</con:property>
      <con:property>Quantity</con:property>
      <con:property>ItemNumberTypeCode</con:property>
      <con:property>TenderCode1</con:property>
      <con:property>TenderCode2</con:property>
      <con:property>TenderAmount1</con:property>
      <con:property>TenderAmount2</con:property>
      <con:property>TenderAmount3</con:property>
      <con:property>TenderAmount4</con:property>
      <con:property>TenderAmount5</con:property>
      <con:property>TransactionNetTotal2</con:property>
      <con:property>TransactionNetTotal4</con:property>
      <con:property>TotalGrossAmount</con:property>
      <con:property>TotalGrossAmount2</con:property>
      <con:property>GrossAmount1</con:property>
      <con:property>DollarValueGross1</con:property>
      <con:property>DollarValueNet1</con:property>
      <con:property>GrossAmount2</con:property>
      <con:property>DollarValueNet2</con:property>
      <con:property>DollarValueGross2</con:property>
      <con:property>ItemNumber3</con:property>
      <con:property>ItemNumberEggs</con:property>
      <con:property>ItemNumberHotCake</con:property>
      <con:property>TransactionNetTotalEarnOnce</con:property>
      <con:property>GrossNetTotal100</con:property>
      <con:property>TrxNetTotal100</con:property>
      <con:property>TenderAmt100</con:property>
      <con:property>TransactionNetTotal3</con:property>
      <con:property>Monday</con:property>
      <con:property>Tuesday</con:property>
      <con:property>Wednesday</con:property>
      <con:property>Monday2</con:property>
      <con:property>Tuesday2</con:property>
      <con:property>Wednesday2</con:property>
      <con:property>Monday3</con:property>
      <con:startRow>1</con:startRow>
      <con:endRow>1</con:endRow>
      <con:recordsPerIteration>1</con:recordsPerIteration>
      <con:completeLastOperation>true</con:completeLastOperation>
      <con:trimValues>false</con:trimValues>
      <con:entitizeValues>false</con:entitizeValues>
      <con:restartOnRun>true</con:restartOnRun>
      <con:expandProperties>false</con:expandProperties>
    </con:config>
  </con:testStep>
  <con:testStep type="calltestcase" name="GetPointTypes" id="33be0ca2-ab49-4059-aade-95f218d427de">
    <con:settings/>
    <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:targetTestCase>ee4c5b9c-633e-4381-ab74-bcb3af64baee</con:targetTestCase>
      <con:properties>
        <con:property>
          <con:name>pointTypeCode</con:name>
          <con:value>Eggs</con:value>
        </con:property>
      </con:properties>
      <con:returnProperties/>
      <con:runMode>SINGLETON_AND_WAIT</con:runMode>
    </con:config>
  </con:testStep>
  <con:testStep type="calltestcase" name="GetPointSubTypes" id="8782c173-73ac-4a52-8d2d-09ccf556263a">
    <con:settings/>
    <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:targetTestCase>64baf0f6-f2b9-48ce-bd4f-695aea81038c</con:targetTestCase>
      <con:properties>
        <con:property>
          <con:name>pointTypeId</con:name>
          <con:value>${#[ActivityCertificate#GetPointTypes#GetPointTypes]#Response#$[0]['RefPointTypeId']}</con:value>
        </con:property>
      </con:properties>
      <con:returnProperties/>
      <con:runMode>SINGLETON_AND_WAIT</con:runMode>
    </con:config>
  </con:testStep>
  <con:testStep type="calltestcase" name="UpsertMomentCAPS" id="94d22b8b-05ce-4afe-9942-382ec0faaa9f">
    <con:settings/>
    <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:targetTestCase>58a85117-5558-4be0-b68f-214c9fbde4c3</con:targetTestCase>
      <con:properties>
        <con:property>
          <con:name>MomentName</con:name>
          <con:value>${MomentsCap#MomentCode}</con:value>
        </con:property>
        <con:property>
          <con:name>CreateBody</con:name>
          <con:value>{   "MomentCode":"${MomentsCap#MomentCode}",   "MomentResponseValues":[      {         "MomentCode":"${MomentsCap#MomentCode}",         "MomentType":"${MomentsCap#MomentType}",         "ResponsePropertyName":"BASE INDICATOR",         "ResponsePropertyValue":"N",         "Status":"P"      },      {         "MomentCode":"${MomentsCap#MomentCode}",         "MomentType":"${MomentsCap#MomentType}",         "ResponsePropertyName":"POINT SUBTYPE",         "ResponsePropertyValue":"${#[ActivityCertificate#GetPointSubType#GetPointSubType]#Response#$['PointSubTypes'][0]['PointSubTypeId']}",         "Status":"P"      },      {         "MomentCode":"${MomentsCap#MomentCode}",         "MomentType":"${MomentsCap#MomentType}",         "ResponsePropertyName":"POINT TYPE",         "ResponsePropertyValue":"${#[ActivityCertificate#GetPointTypes#GetPointTypes]#Response#$[0]['RefPointTypeId']}",         "Status":"P"      }   ],   "StartDate":"${MomentsCap#StartDate}",   "EndDate":"${MomentsCap#EndDate}",   "Description":"${MomentsCap#Description}",   "MomentType":"${MomentsCap#MomentType}",   "MomentEvent":{      "MomentCode":"${MomentsCap#MomentCode}",      "EventType":"${MomentsCap#EventType}",      "MomentQualifyingDateAttribute":"${MomentsCap#QualifyingDateAttribute}",      "MomentQualifyingDateAttributeDrools":"${MomentsCap#QualifyingDateAttributeDrools}",      "MomentOffers":[         {            "MomentCode":"${MomentsCap#MomentCode}",            "OfferName":"${MomentsCap#MomentCode}",            "EventType":"${MomentsCap#EventType}",            "Description":"${MomentsCap#Description}",            "MomentOutcome":{               "MomentCode":"${MomentsCap#MomentCode}",               "EventType":"${MomentsCap#EventType}",               "OfferName":"${MomentsCap#MomentCode}",               "OutcomeEquationUi":"${MomentsCap#OutcomeEquationUiVal}",               "CalculationTemplate":"${MomentsCap#CalculationTemplate}",               "OutcomeEquationTemplate":"${MomentsCap#OutcomeEquationTemplate}",               "FormulaName":"${MomentsCap#FormulaName}",               "Status":"P"            },            "MomentQualifyingRule":{               "MomentCode":"${MomentsCap#MomentCode}",               "EventType":"${MomentsCap#EventType}",               "OfferName":"${MomentsCap#MomentCode}",               "RuleEquationUI":"PurchaseTxn.TransactionEligible >= 500 ||PurchaseTxn.TransactionNetTotal>=500",               "RuleEquationDrools":"PurchaseTxnC(PurchaseTxn.TransactionEligible >= 500 ||PurchaseTxn.TransactionNetTotal>=500)",               "MomentCap":[                  {                     "MomentCode":"${MomentsCap#MomentCode}",                     "EventType":"${MomentsCap#EventType}",                     "OfferName":"${MomentsCap#MomentCode}",                     "CapName":"${MomentsCap#CapName}",                     "CapValue":"${MomentsCap#CapValue}",                     "CapType":"${MomentsCap#CapType}",                     "Status":"P"                  },                  {                     "MomentCode":"${MomentsCap#MomentCode}",                     "EventType":"${MomentsCap#EventType}",                     "OfferName":"${MomentsCap#MomentCode}",                     "CapName":"${MomentsCap#CapName2}",                     "CapValue":"${MomentsCap#CapValue2}",                     "CapType":"${MomentsCap#CapType2}",                     "Status":"P"                  },                  {                     "MomentCode":"${MomentsCap#MomentCode}",                     "EventType":"${MomentsCap#EventType}",                     "OfferName":"${MomentsCap#MomentCode}",                     "CapName":"${MomentsCap#CapName3}",                     "CapValue":"${MomentsCap#CapValue3}",                     "CapType":"${MomentsCap#CapType2}",                     "Status":"P"                  }               ],               "Status":"P"            },            "Status":"P"         }      ]   },   "ReleaseState":"P",   "Status":"P" }</con:value>
        </con:property>
        <con:property>
          <con:name>UpdateBody</con:name>
          <con:value>{   "MomentCode":"${MomentsCap#MomentCode}",   "MomentResponseValues":[      {         "MomentCode":"${MomentsCap#MomentCode}",         "MomentType":"${MomentsCap#MomentType}",         "ResponsePropertyName":"BASE INDICATOR",         "ResponsePropertyValue":"N",         "Status":"A"      },      {         "MomentCode":"${MomentsCap#MomentCode}",         "MomentType":"${MomentsCap#MomentType}",         "ResponsePropertyName":"POINT SUBTYPE",         "ResponsePropertyValue":"${#[ActivityCertificate#GetPointSubType#GetPointSubType]#Response#$['PointSubTypes'][0]['PointSubTypeId']}",         "Status":"A"      },      {         "MomentCode":"${MomentsCap#MomentCode}",         "MomentType":"${MomentsCap#MomentType}",         "ResponsePropertyName":"POINT TYPE",         "ResponsePropertyValue":"${#[ActivityCertificate#GetPointTypes#GetPointTypes]#Response#$[0]['RefPointTypeId']}",         "Status":"A"      }   ],   "StartDate":"${MomentsCap#StartDate}",   "EndDate":"${MomentsCap#EndDate}",   "Description":"${MomentsCap#Description}",   "MomentType":"${MomentsCap#MomentType}",   "MomentEvent":{      "MomentCode":"${MomentsCap#MomentCode}",      "EventType":"${MomentsCap#EventType}",      "MomentQualifyingDateAttribute":"${MomentsCap#QualifyingDateAttribute}",      "MomentQualifyingDateAttributeDrools":"${MomentsCap#QualifyingDateAttributeDrools}",      "MomentOffers":[         {            "MomentCode":"${MomentsCap#MomentCode}",            "OfferName":"${MomentsCap#MomentCode}",            "EventType":"${MomentsCap#EventType}",            "Description":"${MomentsCap#Description}",            "MomentOutcome":{               "MomentCode":"${MomentsCap#MomentCode}",               "EventType":"${MomentsCap#EventType}",               "OfferName":"${MomentsCap#MomentCode}",               "OutcomeEquationUi":"${MomentsCap#OutcomeEquationUiVal}",               "CalculationTemplate":"${MomentsCap#CalculationTemplate}",               "OutcomeEquationTemplate":"${MomentsCap#OutcomeEquationTemplate}",               "FormulaName":"${MomentsCap#FormulaName}",               "Status":"A"            },            "MomentQualifyingRule":{               "MomentCode":"${MomentsCap#MomentCode}",               "EventType":"${MomentsCap#EventType}",               "OfferName":"${MomentsCap#MomentCode}",               "RuleEquationUI":"PurchaseTxn.TransactionEligible >= 500 ||PurchaseTxn.TransactionNetTotal>=500",               "RuleEquationDrools":"PurchaseTxnC(PurchaseTxn.TransactionEligible >= 500 ||PurchaseTxn.TransactionNetTotal>=500)",               "MomentCap":[                  {                     "MomentCode":"${MomentsCap#MomentCode}",                     "EventType":"${MomentsCap#EventType}",                     "OfferName":"${MomentsCap#MomentCode}",                     "CapName":"${MomentsCap#CapName}",                     "CapValue":"${MomentsCap#CapValue}",                     "CapType":"${MomentsCap#CapType}",                     "Status":"A"                  },                  {                     "MomentCode":"${MomentsCap#MomentCode}",                     "EventType":"${MomentsCap#EventType}",                     "OfferName":"${MomentsCap#MomentCode}",                     "CapName":"${MomentsCap#CapName2}",                     "CapValue":"${MomentsCap#CapValue2}",                     "CapType":"${MomentsCap#CapType2}",                     "Status":"A"                  },                  {                     "MomentCode":"${MomentsCap#MomentCode}",                     "EventType":"${MomentsCap#EventType}",                     "OfferName":"${MomentsCap#MomentCode}",                     "CapName":"${MomentsCap#CapName3}",                     "CapValue":"${MomentsCap#CapValue3}",                     "CapType":"${MomentsCap#CapType3}",                     "Status":"A"                  }               ],               "Status":"A"            },            "Status":"A"         }      ]   },   "ReleaseState":"P",   "Status":"A" }</con:value>
        </con:property>
        <con:property>
          <con:name>MomentId</con:name>
        </con:property>
      </con:properties>
      <con:returnProperties/>
      <con:runMode>SINGLETON_AND_WAIT</con:runMode>
    </con:config>
  </con:testStep>
  <con:testStep type="calltestcase" name="AddProfileRGR" id="abc142e6-34ba-4ab9-a031-84ca01ec57b7">
    <con:settings/>
    <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:targetTestCase>09d0b29f-fbfa-4136-9573-3b813c1795b3</con:targetTestCase>
      <con:properties>
        <con:property>
          <con:name>ProfileId</con:name>
        </con:property>
      </con:properties>
      <con:returnProperties/>
      <con:runMode>SINGLETON_AND_WAIT</con:runMode>
    </con:config>
  </con:testStep>
  <con:properties/>
  <con:reportParameters/>
</con:testCase>
