<?xml version="1.0" encoding="UTF-8"?>
<con:testCase id="b629e96c-8637-44c3-a0fa-c408cc45f1b5" discardOkResults="false" failOnError="true" failTestCaseOnErrors="true" keepSession="false" name="TH_CyclicMomentValidation" searchProperties="true" timeout="0" xmlns:con="http://eviware.com/soapui/config">
  <con:settings>
    <con:setting id="b629e96c-8637-44c3-a0fa-c408cc45f1b5fileName">TH_CyclicMomentValidation</con:setting>
  </con:settings>
  <con:testStep type="datasource" name="Transaction" id="2c316d42-0752-49bf-834d-ffbb3f7de02a">
    <con:settings/>
    <con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:dataSource type="File">
        <con:configuration>
          <fileName>${#Project#ProjectPath}/References/Transaction.csv</fileName>
          <separator>,</separator>
          <trim>true</trim>
          <charset>Cp1252</charset>
          <quotedValues>false</quotedValues>
        </con:configuration>
      </con:dataSource>
      <con:shared>true</con:shared>
      <con:restartShared>true</con:restartShared>
      <con:property>IterationNumber</con:property>
      <con:property>ProgramCode</con:property>
      <con:property>TransactionTypeCode</con:property>
      <con:property>TransactionNetTotal</con:property>
      <con:property>ShippingAndHandling</con:property>
      <con:property>TransactionTotalTax</con:property>
      <con:property>CurrencyCode</con:property>
      <con:property>PostingDateTime</con:property>
      <con:property>OnlyAddTransData</con:property>
      <con:property>SuspendTransaction</con:property>
      <con:property>TransactionDescription</con:property>
      <con:property>StoreCode</con:property>
      <con:property>GrossAmount</con:property>
      <con:property>TransNumber</con:property>
      <con:property>ItemNumberTypeCode</con:property>
      <con:startRow>1</con:startRow>
      <con:endRow/>
      <con:recordsPerIteration>1</con:recordsPerIteration>
      <con:completeLastOperation>true</con:completeLastOperation>
      <con:trimValues>false</con:trimValues>
      <con:entitizeValues>false</con:entitizeValues>
      <con:restartOnRun>true</con:restartOnRun>
      <con:expandProperties>false</con:expandProperties>
      <con:stopDatasourceExhausted>false</con:stopDatasourceExhausted>
    </con:config>
  </con:testStep>
  <con:testStep type="datasource" name="Amount1" id="6308655b-84bf-4255-9b64-57b54560bd87">
    <con:settings/>
    <con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:dataSource type="Data Generator">
        <con:configuration>
          <generatedDataCount>1</generatedDataCount>
          <generatorsTotalNumber>1</generatorsTotalNumber>
          <lastSelectedProperty>0</lastSelectedProperty>
          <GeneratorType0>INT</GeneratorType0>
          <PropertyName0>Amt1</PropertyName0>
          <repetitionCountAmt1>0</repetitionCountAmt1>
          <repeatValuesAmt1>false</repeatValuesAmt1>
          <IntegerDataGeneratorMinValueAmt1>0</IntegerDataGeneratorMinValueAmt1>
          <IntegerDataGeneratorMaxValueAmt1>99</IntegerDataGeneratorMaxValueAmt1>
          <IntegerDataGeneratorStepValueAmt1>1</IntegerDataGeneratorStepValueAmt1>
          <IntegerDataGeneratorConsequentValuesAmt1>false</IntegerDataGeneratorConsequentValuesAmt1>
          <escapeSpaceSequence/>
        </con:configuration>
      </con:dataSource>
      <con:shared>true</con:shared>
      <con:restartShared>true</con:restartShared>
      <con:property>Amt1</con:property>
      <con:restartOnRun>true</con:restartOnRun>
      <con:stopDatasourceExhausted>false</con:stopDatasourceExhausted>
    </con:config>
  </con:testStep>
  <con:testStep type="datasource" name="Amount2" id="13ee186a-694e-4bc1-bf56-bd5d251cfdab">
    <con:settings/>
    <con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:dataSource type="Data Generator">
        <con:configuration>
          <generatedDataCount>1</generatedDataCount>
          <generatorsTotalNumber>1</generatorsTotalNumber>
          <lastSelectedProperty>0</lastSelectedProperty>
          <GeneratorType0>INT</GeneratorType0>
          <PropertyName0>Amt2</PropertyName0>
          <repetitionCountAmt2>0</repetitionCountAmt2>
          <repeatValuesAmt2>false</repeatValuesAmt2>
          <IntegerDataGeneratorMinValueAmt2>6</IntegerDataGeneratorMinValueAmt2>
          <IntegerDataGeneratorMaxValueAmt2>54</IntegerDataGeneratorMaxValueAmt2>
          <IntegerDataGeneratorStepValueAmt2>1</IntegerDataGeneratorStepValueAmt2>
          <IntegerDataGeneratorConsequentValuesAmt2>false</IntegerDataGeneratorConsequentValuesAmt2>
          <escapeSpaceSequence/>
        </con:configuration>
      </con:dataSource>
      <con:shared>true</con:shared>
      <con:restartShared>true</con:restartShared>
      <con:property>Amt2</con:property>
      <con:restartOnRun>true</con:restartOnRun>
      <con:stopDatasourceExhausted>false</con:stopDatasourceExhausted>
    </con:config>
  </con:testStep>
  <con:testStep type="datasource" name="DollarValueNet" id="823f9414-e075-4016-8dcf-642515293ea9">
    <con:settings/>
    <con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:dataSource type="Data Generator">
        <con:configuration>
          <generatedDataCount>1</generatedDataCount>
          <generatorsTotalNumber>1</generatorsTotalNumber>
          <lastSelectedProperty>0</lastSelectedProperty>
          <GeneratorType0>INT</GeneratorType0>
          <PropertyName0>DollarNet</PropertyName0>
          <repetitionCountDollarNet>0</repetitionCountDollarNet>
          <repeatValuesDollarNet>false</repeatValuesDollarNet>
          <IntegerDataGeneratorMinValueDollarNet>1</IntegerDataGeneratorMinValueDollarNet>
          <IntegerDataGeneratorMaxValueDollarNet>899</IntegerDataGeneratorMaxValueDollarNet>
          <IntegerDataGeneratorStepValueDollarNet>0</IntegerDataGeneratorStepValueDollarNet>
          <IntegerDataGeneratorConsequentValuesDollarNet>false</IntegerDataGeneratorConsequentValuesDollarNet>
          <escapeSpaceSequence/>
        </con:configuration>
      </con:dataSource>
      <con:shared>true</con:shared>
      <con:restartShared>true</con:restartShared>
      <con:property>DollarNet</con:property>
      <con:restartOnRun>true</con:restartOnRun>
      <con:stopDatasourceExhausted>false</con:stopDatasourceExhausted>
    </con:config>
  </con:testStep>
  <con:testStep type="datasource" name="DollarValueGross" id="b20fd5d7-548f-4729-b3c6-8ab62c595998">
    <con:settings/>
    <con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:dataSource type="Data Generator">
        <con:configuration>
          <generatedDataCount>1</generatedDataCount>
          <generatorsTotalNumber>1</generatorsTotalNumber>
          <lastSelectedProperty>0</lastSelectedProperty>
          <GeneratorType0>INT</GeneratorType0>
          <PropertyName0>DollarGross</PropertyName0>
          <repetitionCountDollarGross>0</repetitionCountDollarGross>
          <repeatValuesDollarGross>false</repeatValuesDollarGross>
          <IntegerDataGeneratorMinValueDollarGross>1</IntegerDataGeneratorMinValueDollarGross>
          <IntegerDataGeneratorMaxValueDollarGross>999</IntegerDataGeneratorMaxValueDollarGross>
          <IntegerDataGeneratorStepValueDollarGross>0</IntegerDataGeneratorStepValueDollarGross>
          <IntegerDataGeneratorConsequentValuesDollarGross>false</IntegerDataGeneratorConsequentValuesDollarGross>
          <escapeSpaceSequence/>
        </con:configuration>
      </con:dataSource>
      <con:shared>true</con:shared>
      <con:restartShared>true</con:restartShared>
      <con:property>DollarGross</con:property>
      <con:restartOnRun>true</con:restartOnRun>
      <con:stopDatasourceExhausted>false</con:stopDatasourceExhausted>
    </con:config>
  </con:testStep>
  <con:testStep type="calltestcase" name="GetPointAndSubPointType" id="bdede46d-2260-41ee-8434-a5f492d7bc50">
    <con:settings/>
    <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:targetTestCase>3c8dc93b-cef5-4586-8b89-819d8b4ef5b9</con:targetTestCase>
      <con:properties>
        <con:property>
          <con:name>PointsId</con:name>
          <con:value>6147cc18-acf8-4f5c-a34e-814d5fa9b45a</con:value>
        </con:property>
        <con:property>
          <con:name>EggsId</con:name>
          <con:value>467e179e-a1d0-4a24-8394-f951fbb9bfb5</con:value>
        </con:property>
        <con:property>
          <con:name>StdPointsId</con:name>
          <con:value>a8fb4e46-4c5f-421f-a8d2-a95794589a04</con:value>
        </con:property>
        <con:property>
          <con:name>PromoPointsId</con:name>
          <con:value>56a86766-c0d6-433d-bd9c-7166b79e4ebb</con:value>
        </con:property>
        <con:property>
          <con:name>HatchedEggsId</con:name>
          <con:value>93865d49-117c-4d36-b317-0031d84b83a1</con:value>
        </con:property>
        <con:property>
          <con:name>UnhatchedEggsId</con:name>
          <con:value>18e140f3-93bd-4628-8357-651b78b03fa8</con:value>
        </con:property>
      </con:properties>
      <con:returnProperties>
        <con:entry>PointsId</con:entry>
        <con:entry>EggsId</con:entry>
        <con:entry>StdPointsId</con:entry>
        <con:entry>PromoPointsId</con:entry>
        <con:entry>HatchedEggsId</con:entry>
        <con:entry>UnhatchedEggsId</con:entry>
      </con:returnProperties>
      <con:runMode>SINGLETON_AND_WAIT</con:runMode>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="GetEventForPurTrax" id="5de1c8a6-1c6a-419f-b4ed-e89317f829fc">
    <con:settings/>
    <con:config service="RestAPIs" resourcePath="/api/v1/event/attributes/eventtype/{eventType}" methodName="GetEventAttributesByEventType" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:restRequest name="GetEventForPurTrax" id="da222284-ba0b-4969-9bde-b8b22e6ce3d2" mediaType="application/json">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:endpoint>https://d3aldv-pveapi.skynetlowerenv.com/</con:endpoint>
        <con:request/>
        <con:originalUri>https://q3alin-pveapi.loyalty-lower.peoplecloud.epsilon.com/api/v1/event/attributes/eventtype/eventType</con:originalUri>
        <con:assertion type="DataAndMetadataAssertion" id="673c624f-806a-4cc5-93bf-b0643632e49c" name="Smart Assertion">
          <con:configuration xsi:type="con:DataAndMetadataAssertion">
            <con:mode>Received Metadata</con:mode>
            <con:elements>
              <con:path>$['Headers']['date']</con:path>
              <con:element>date</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>Thu, 02 Feb 2023 08:44:52 GMT</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['server']</con:path>
              <con:element>server</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>Apache/2.4.6 (Red Hat Enterprise Linux) OpenSSL/1.0.2k-fips</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['content-length']</con:path>
              <con:element>content-length</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>90092</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['language-code']</con:path>
              <con:element>language-code</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>EN_US</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['x-frame-options']</con:path>
              <con:element>x-frame-options</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>DENY</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['pragma']</con:path>
              <con:element>pragma</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>no-cache</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['x-content-type-options']</con:path>
              <con:element>x-content-type-options</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>nosniff</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['x-xss-protection']</con:path>
              <con:element>x-xss-protection</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>1</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['connection']</con:path>
              <con:element>connection</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>keep-alive</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['correlationid']</con:path>
              <con:element>correlationid</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>d670e1a5-17fb-bce3-940d-ffa0b46a8b0c</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['content-type']</con:path>
              <con:element>content-type</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>application/json; charset=utf-8</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['process-time']</con:path>
              <con:element>process-time</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>17ms</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['#status#']</con:path>
              <con:element>#status#</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>true</con:enabled>
              <con:expectedValue>HTTP/1.1 200 OK</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['cache-control']</con:path>
              <con:element>cache-control</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>no-store,no-cache</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['new-correlationid']</con:path>
              <con:element>new-correlationid</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>0HMO4QK9ILG6F:000001C9</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:originalMessage>{"Headers":{"date":"Thu, 02 Feb 2023 08:44:52 GMT","server":"Apache/2.4.6 (Red Hat Enterprise Linux) OpenSSL/1.0.2k-fips","content-length":"90092","language-code":"EN_US","x-frame-options":"DENY","pragma":"no-cache","x-content-type-options":"nosniff","x-xss-protection":"1","connection":"keep-alive","correlationid":"d670e1a5-17fb-bce3-940d-ffa0b46a8b0c","content-type":"application/json; charset=utf-8","process-time":"17ms","#status#":"HTTP/1.1 200 OK","cache-control":"no-store,no-cache","new-correlationid":"0HMO4QK9ILG6F:000001C9"}}</con:originalMessage>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters>
          <con:entry key="Authorization" value="OAuth ${#Project#AuthToken}"/>
          <con:entry key="Accept-Language" value="en-US"/>
          <con:entry key="eventType" value="PurchaseTxn"/>
        </con:parameters>
        <con:parameterOrder>
          <con:entry>eventType</con:entry>
          <con:entry>Accept-Language</con:entry>
          <con:entry>Authorization</con:entry>
        </con:parameterOrder>
        <con:environmentSpec>
          <con:entry environmentId="3c955a23-3567-47af-b6e9-aacfcca8d9aa">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="47bb433b-fb70-41f0-b289-86004efd1deb">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="6705507e-ac0c-4a4b-acac-36b4c8b57bc6">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="537e61a1-a742-4637-a094-8cad62ddccd2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="groovy" name="eventAttributeId" id="e2171e52-5dd8-42ed-abb8-dfe7c9f32dfb">
    <con:settings/>
    <con:config>
      <script>import static com.jayway.jsonpath.JsonPath.parse

def eventAttributeId = context.expand( '${GetEventForPurTrax#Response#$[?(@.AttributeName==\'Nights\')].EventAttributeId[0]}')</script>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="UpdateEventType" id="24be4a23-d1c0-4d05-977c-b2743df45423">
    <con:settings/>
    <con:config service="RestAPIs" resourcePath="/api/v1/event/{eventType}/attributes/{attributeName}" methodName="UpdateEventAttribute" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:restRequest name="UpdateEventType" id="097cbf80-81c4-4591-a216-a1aa2bb5b1ed" mediaType="application/json" postQueryString="false">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:endpoint>https://d3aldv-pveapi.skynetlowerenv.com/</con:endpoint>
        <con:request>{
  "EventAttributeId": "${eventAttributeId#result}",
  "AttributeName": "${#TestCase#atributeName}",
  "CyclicIndicator": true,
  "CapIndicator": false,
  "CyclicMapField": "Nights",
  "IsLineItem": false,
  "CollectionIndicator": false,
  "DataTypeDrl": "Double",
  "DataTypeUi": "Number",
  "EventType": "${#TestCase#eventType}",
  "AttributeFqn": "PurchaseTxn.Nights",
  "DroolsVariableName": "$PurchaseTxn",
  "CollectionAttribute": false,
  "UsedAsCyclic": false,
  "ReturnAttribute": false,
  "IsValueGroupHierarchy": false,
  "IsEnrichmentLinkedAttribute": false,
  "IsEnrichmentAttribute": false,
  "Status": "A"
 
}</con:request>
        <con:originalUri>https://q3alin-pveapi.loyalty-lower.peoplecloud.epsilon.com/api/v1/event/PurchaseTxn/attributes/Nights</con:originalUri>
        <con:assertion type="DataAndMetadataAssertion" id="a932ea07-6338-41b2-a1a9-cd090a2b1d92" name="Smart Assertion">
          <con:configuration xsi:type="con:DataAndMetadataAssertion">
            <con:mode>Received Metadata</con:mode>
            <con:elements>
              <con:path>$['Headers']['date']</con:path>
              <con:element>date</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>Thu, 02 Feb 2023 08:58:48 GMT</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['server']</con:path>
              <con:element>server</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>Apache/2.4.6 (Red Hat Enterprise Linux) OpenSSL/1.0.2k-fips</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['content-length']</con:path>
              <con:element>content-length</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>407</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['language-code']</con:path>
              <con:element>language-code</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>EN_US</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['x-frame-options']</con:path>
              <con:element>x-frame-options</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>DENY</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['pragma']</con:path>
              <con:element>pragma</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>no-cache</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['x-content-type-options']</con:path>
              <con:element>x-content-type-options</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>nosniff</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['x-xss-protection']</con:path>
              <con:element>x-xss-protection</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>1</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['connection']</con:path>
              <con:element>connection</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>keep-alive</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['correlationid']</con:path>
              <con:element>correlationid</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>ac0dcdab-9323-7495-7f43-c2fb27f44168</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['content-type']</con:path>
              <con:element>content-type</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>application/json; charset=utf-8</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['process-time']</con:path>
              <con:element>process-time</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>20ms</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['#status#']</con:path>
              <con:element>#status#</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>true</con:enabled>
              <con:expectedValue>HTTP/1.1 200 OK</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['cache-control']</con:path>
              <con:element>cache-control</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>no-store,no-cache</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['new-correlationid']</con:path>
              <con:element>new-correlationid</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>0HMO4QK9ILG6B:00000297</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:originalMessage>{"Headers":{"date":"Thu, 02 Feb 2023 08:58:48 GMT","server":"Apache/2.4.6 (Red Hat Enterprise Linux) OpenSSL/1.0.2k-fips","content-length":"407","language-code":"EN_US","x-frame-options":"DENY","pragma":"no-cache","x-content-type-options":"nosniff","x-xss-protection":"1","connection":"keep-alive","correlationid":"ac0dcdab-9323-7495-7f43-c2fb27f44168","content-type":"application/json; charset=utf-8","process-time":"20ms","#status#":"HTTP/1.1 200 OK","cache-control":"no-store,no-cache","new-correlationid":"0HMO4QK9ILG6B:00000297"}}</con:originalMessage>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters>
          <con:entry key="Authorization" value="OAuth ${#Project#AuthToken}"/>
          <con:entry key="content-type" value="application/json"/>
          <con:entry key="attributeName" value="${#TestCase#atributeName}"/>
          <con:entry key="Accept-Language" value="en-US"/>
          <con:entry key="eventType" value="${#TestCase#eventType}"/>
        </con:parameters>
        <con:parameterOrder>
          <con:entry>eventType</con:entry>
          <con:entry>attributeName</con:entry>
          <con:entry>Accept-Language</con:entry>
          <con:entry>Authorization</con:entry>
          <con:entry>content-type</con:entry>
        </con:parameterOrder>
        <con:environmentSpec>
          <con:entry environmentId="6705507e-ac0c-4a4b-acac-36b4c8b57bc6">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="537e61a1-a742-4637-a094-8cad62ddccd2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="calltestcase" name="AddProfileRGR" id="2fd6e989-94dc-4256-a4d4-2d30114643f6">
    <con:settings/>
    <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:targetTestCase>09d0b29f-fbfa-4136-9573-3b813c1795b3</con:targetTestCase>
      <con:properties>
        <con:property>
          <con:name>ProfileId</con:name>
        </con:property>
      </con:properties>
      <con:returnProperties/>
      <con:runMode>SINGLETON_AND_WAIT</con:runMode>
    </con:config>
  </con:testStep>
  <con:testStep type="calltestcase" name="UpsertMoment" id="d7faf131-c6af-4bfb-97a7-cbe745509bb0">
    <con:settings/>
    <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:targetTestCase>58a85117-5558-4be0-b68f-214c9fbde4c3</con:targetTestCase>
      <con:properties>
        <con:property>
          <con:name>MomentName</con:name>
          <con:value>TEST_MOMENT_T_AND_H_CYLIC2</con:value>
        </con:property>
        <con:property>
          <con:name>CreateBody</con:name>
          <con:value>{   "Description": "test cyclic for moment and hospitality",   "MomentCode": "${UpsertMoment#MomentName}",   "MomentResponseValues": [     {       "MomentCode": "${UpsertMoment#MomentName}",       "MomentType": "PROMOTIONAL_CURRENCY",       "ResponsePropertyName": "BASE INDICATOR",       "ResponsePropertyValue": "N",       "Status": "P"     },     {       "MomentCode": "${UpsertMoment#MomentName}",       "MomentType": "PROMOTIONAL_CURRENCY",       "ResponsePropertyName": "ENGAGE INDICATOR",       "ResponsePropertyValue": "N",       "Status": "P"     },     {       "MomentCode": "${UpsertMoment#MomentName}",       "MomentType": "PROMOTIONAL_CURRENCY",       "ResponsePropertyName": "NEGATE OUTCOME",       "ResponsePropertyValue": "N",       "Status": "P"     },     {       "MomentCode": "${UpsertMoment#MomentName}",       "MomentType": "PROMOTIONAL_CURRENCY",       "ResponsePropertyName": "POINT SUBTYPE",       "ResponsePropertyValue":"${GetPointAndSubPointType#HatchedEggsId}",       "Status": "P"       },     {       "MomentCode": "${UpsertMoment#MomentName}",       "MomentType": "PROMOTIONAL_CURRENCY",       "ResponsePropertyName": "POINT TYPE",       "ResponsePropertyValue": "${GetPointAndSubPointType#EggsId}",        "Status": "P"     }	   ],   "MomentType": "PROMOTIONAL_CURRENCY",   "StartDate": "2021-05-19T00:00:00Z",   "StartDateString": "05/19/2021 12:00:00 AM",   "EndDate": "2030-09-01T23:59:59Z",   "EndDateString": "09/01/2030 11:59:59 PM",   "TenantId": "00000000-0000-0000-0000-000000000000",   "MomentStatus": "A",   "MomentEvent": {     "MomentCode": "${UpsertMoment#MomentName}",     "EventType": "PurchaseTxn",     "EventId": "2ac39cd9-b6d9-4028-a2ac-6db7f6298ec8",     "MomentEventId": null,     "MomentQualifyingDateAttribute": "PurchaseTxn.TransactionDateTime",     "MomentQualifyingDateAttributeDrools": "$PurchaseTxn:PurchaseTxnC(isItBetween(TransactionDateTime,\"2023-01-13 12:00:00 AM\",\"2023-03-02 11:59:59 PM\"))",     "MomentOffers": [       {         "MomentCode": "${UpsertMoment#MomentName}",         "EventType": "PurchaseTxn",         "OfferName": "${UpsertMoment#MomentName}",         "Description": "test cyclic for moment and hospitality",         "MomentOutcome": {           "MomentCode": "${UpsertMoment#MomentName}",           "EventType": "PurchaseTxn",           "OfferName": "${UpsertMoment#MomentName}",           "OutcomeId": null,           "InitialOutcomeHtmlString": null,           "OutcomeEquationUi": "10",           "CalculationTemplate": "&lt;fixedpoints,[Number]>",           "OutcomeEquationTemplate": "%5B%7B%22name%22%3A%22fixedpoints%22%2C%22type%22%3A%22Number%22%2C%22objType%22%3A%22var%22%2C%22id%22%3A%22variable_0%22%2C%22value%22%3A%2210%22%2C%22isSelect%22%3Afalse%2C%22funcName%22%3A%22%22%2C%22filterType%22%3A%22%22%2C%22drools%22%3A%22%22%2C%22collectionAttribute%22%3Afalse%2C%22refId%22%3A%22%22%7D%2C%7B%22name%22%3A%22%22%2C%22type%22%3A%22%22%2C%22objType%22%3A%22drools%22%2C%22id%22%3A%22%22%2C%22value%22%3A%22String.valueOf(10)%22%2C%22isSelect%22%3Afalse%2C%22funcName%22%3A%22%22%2C%22filterType%22%3A%22%22%2C%22drools%22%3A%22%22%2C%22collectionAttribute%22%3Afalse%2C%22refId%22%3A%22%22%7D%5D",           "OutcomeEquationDrools": "MomentParam[] params = new MomentParam[] {new MomentParam(\"OfferName\",\"${UpsertMoment#MomentName}\"),new MomentParam(\"CyclicValue\",String.valueOf($cyclicValue)),new MomentParam(\"QualifyingDateAttributeValue\",$PurchaseTxn.getTransactionDateTime())};\nMomentParam[] outcomeValues = null;\nmo.add(new MomentOutcome(\"${UpsertMoment#MomentName}\",String.valueOf(10),params, outcomeValues));\n",           "FormulaName": "FIXEDAMT",           "Status": "P"         },         "MomentQualifyingRule": {           "MomentCode": "${UpsertMoment#MomentName}",           "EventType": "PurchaseTxn",           "OfferName": "${UpsertMoment#MomentName}",           "QualifyingRuleId": null,           "RuleEquationUI": "PurchaseTxn.ProgramCode == \"PP\" &amp;&amp; PurchaseTxn.Nights >= 3",           "RuleEquationUiWithValidValues": null,           "RuleEquationDrools": "PurchaseTxnC(ProgramCode == \"PP\" &amp;&amp; Nights >= 3)\nPurchaseTxnC($cyclicValue:Nights)",           "CyclicAttribute": "PurchaseTxn.Nights",           "CyclicThreshold": 6,           "MomentCap": [],           "TimeRangeCap": [             {               "MomentCode": "${UpsertMoment#MomentName}",               "EventType": "PurchaseTxn",               "OfferName": "${UpsertMoment#MomentName}",               "CapName": "DailyIssuedCount",               "CapValue": null,               "CapType": "OUTCOMEISSUED",               "IsTimeRangeCap": true,               "Duration": "Daily",               "DurationDescription": "Day (12:00am-11:59pm)",               "IsDisplayed": false,               "Status": "P",               "CreateUser": "SYSUSER",               "CreateDate": "2021-03-23T09:24:47Z",               "UpdateUser": "SYSUSER",               "UpdateDate": "2021-03-23T09:24:47Z"             },             {               "MomentCode": "${UpsertMoment#MomentName}",               "EventType": "PurchaseTxn",               "OfferName": "${UpsertMoment#MomentName}",               "CapName": "WeeklyIssuedCount",               "CapValue": null,               "CapType": "OUTCOMEISSUED",               "IsTimeRangeCap": true,               "Duration": "Weekly",               "DurationDescription": "Week (Sunday-Saturday)",               "IsDisplayed": false,               "Status": "P",               "CreateUser": "SYSUSER",               "CreateDate": "2021-03-23T09:24:47Z",               "UpdateUser": "SYSUSER",               "UpdateDate": "2021-03-23T09:24:47Z"             },             {               "CapId": null,               "MomentCode": "${UpsertMoment#MomentName}",               "EventType": "PurchaseTxn",               "OfferName": "${UpsertMoment#MomentName}",               "CapName": "MonthlyIssuedCount",               "CapValue": null,               "CapType": "OUTCOMEISSUED",               "IsTimeRangeCap": true,               "Duration": "Monthly",               "DurationDescription": "Month (1st day-last day of the month)",               "IsDisplayed": false,               "Status": "P",               "CreateUser": "SYSUSER",               "CreateDate": "2021-03-23T09:24:47Z",               "UpdateUser": "SYSUSER",               "UpdateDate": "2021-03-23T09:24:47Z",             }           ],           "Status": "P"         },         "Rank": null,         "Questions": null,         "Status": "A"       }     ],   },   "MomentRespProperties": [     {       "ResponsePropertyId": "08029983-4f25-4645-867c-efc3ac4e5734",       "ResponsePropertyName": "BASE INDICATOR",       "MomentType": "PROMOTIONAL_CURRENCY",       "ValueGroup": "BASE POINTS",       "LevelNumber": 11,       "ValidValue": "N",       "ValidValues": [         {           "Id": "20893aa3-9be9-8f48-e053-40f1ef0a06cf",           "Value": "N",           "Description": "False"         },         {           "Id": "20893aa3-9ce9-8f48-e053-40f1ef0a06cf",           "Value": "Y",           "Description": "True"         }       ],       "Status": "A",       "CreateUser": "SEED_USER",       "CreateDate": "2015-06-09T18:47:01.472365Z",       "UpdateUser": "SEED_USER",       "UpdateDate": "2015-06-09T18:47:01.472365Z",       "JsonExternalData": null     },     {       "ResponsePropertyId": "4fae5bcb-e64a-9f46-a6de-e0275013395f",       "ResponsePropertyName": "ENGAGE INDICATOR",       "MomentType": "PROMOTIONAL_CURRENCY",       "ValueGroup": "ENGAGE INDICATOR",       "LevelNumber": 11,       "ValidValue": "N",       "ValidValues": [         {           "Id": "5a1b13f9-1135-4aa6-89d2-16372e9061db",           "Value": "N",           "Description": "False"         },         {           "Id": "d622f4e5-6c8b-4712-ad5e-8d862d029a38",           "Value": "Y",           "Description": "True"         }       ],       "Status": "A",       "CreateUser": "SEED_USER",       "CreateDate": "2018-12-17T10:51:23Z",       "UpdateUser": "SEED_USER",       "UpdateDate": "2018-12-17T10:51:23Z",       "JsonExternalData": null     },     {       "ResponsePropertyId": "775c19df-ce0b-4ada-ad59-92e158d047b7",       "ResponsePropertyName": "NEGATE OUTCOME",       "MomentType": "PROMOTIONAL_CURRENCY",       "ValueGroup": "NEGATE OUTCOME",       "LevelNumber": 11,       "ValidValue": "N",       "ValidValues": [         {           "Id": "39b0b362-ca11-417e-b061-00154e5bec7e",           "Value": "N",           "Description": "False"         },         {           "Id": "131d595d-9cce-43dd-924d-cb13cf3daca3",           "Value": "Y",           "Description": "True"         }       ],       "Status": "A",       "CreateUser": "SEED_USER",       "CreateDate": "2019-06-23T23:48:58Z",       "UpdateUser": "SEED_USER",       "UpdateDate": "2019-06-23T23:48:58Z",       "JsonExternalData": null     },     {       "ResponsePropertyId": "af471edb-c199-4c8d-ae76-e8bd111d9996",       "ResponsePropertyName": "POINT SUBTYPE",       "MomentType": "PROMOTIONAL_CURRENCY",       "ValueGroup": "POINT TYPE",       "LevelNumber": 11,       "ValidValue": "65bba187-1da6-460d-84f9-5178bfd44b2f",       "ValidValues": [         {           "Id": "daab6ba4-a5f5-c768-e053-40f1ef0a505d",           "Value": "315df4bc-fc74-4324-b80a-4c8f7a977dc1",           "Description": "Cluck Cash"         },         {           "Id": "daab6ba4-a4f5-c768-e053-40f1ef0a505d",           "Value": "176e4fc6-f8c3-45b0-8299-dac2cf67dc58",           "Description": "Cluck Cash Promo"         },         {           "Id": "ec8f84a6-f242-aa15-e053-40f1ef0a01c6",           "Value": "ccc8e6ca-addf-47af-bd26-a491e3b9ecfb",           "Description": "Gold Stars"         },         {           "Id": "b9ab6ba4-cc78-973c-e053-40f1ef0a0c93",           "Value": "65bba187-1da6-460d-84f9-5178bfd44b2f",           "Description": "Hatched Eggs"         },         {           "Id": "b9ab6ba4-cf78-973c-e053-40f1ef0a0c93",           "Value": "b64c4e3f-a6e9-47c1-9af0-bc969f2504c3",           "Description": "Promo Points"         },         {           "Id": "ec8f84a6-f142-aa15-e053-40f1ef0a01c6",           "Value": "456dc205-a514-4326-81c9-f391647d77e2",           "Description": "Silver Stars"         },         {           "Id": "b9ab6ba4-ce78-973c-e053-40f1ef0a0c93",           "Value": "87a58a17-e6d6-4886-9b0f-74136f7807d2",           "Description": "Std Points"         },         {           "Id": "b9ab6ba4-cd78-973c-e053-40f1ef0a0c93",           "Value": "ec6df9fd-2389-436a-918d-13b38cbb5b96",           "Description": "Unhatched Eggs"         }       ],       "Status": "A",       "CreateUser": "SEED_USER",       "CreateDate": "2015-06-09T18:47:01.487966Z",       "UpdateUser": "SEED_USER",       "UpdateDate": "2015-06-09T18:47:01.487966Z",       "JsonExternalData": null     },     {       "ResponsePropertyId": "4071f0c1-6099-464f-9b64-f5b19f25e444",       "ResponsePropertyName": "POINT TYPE",       "MomentType": "PROMOTIONAL_CURRENCY",       "ValueGroup": "POINT TYPE",       "LevelNumber": 1,       "ValidValue": "9e83b843-0d1e-4d3b-b0aa-3b631d4c4a02",       "ValidValues": [         {           "Id": null,           "Value": "03ea22d2-8700-4f83-a88f-9cc75db9747d",           "Description": "Cluck Bucks"         },         {           "Id": null,           "Value": "9e83b843-0d1e-4d3b-b0aa-3b631d4c4a02",           "Description": "Eggs"         },         {           "Id": null,           "Value": "67d97e6e-e1ec-4bdf-8e7e-a27217e5d7ff",           "Description": "Points"         },         {           "Id": null,           "Value": "4c581f81-3d94-4eb9-a63f-6812d039b482",           "Description": "Stars"         }       ],       "Status": "A",       "CreateUser": "SEED_USER",       "CreateDate": "2015-06-09T18:47:01.487966Z",       "UpdateUser": "SEED_USER",       "UpdateDate": "2015-06-09T18:47:01.487966Z",       "JsonExternalData": null     }   ],   "BestOfferIndicator": false,   "AdvancedModeIndicator": false,   "ReleaseState": "P",   "IsTestUser": false,   "Status": "A" }</con:value>
        </con:property>
        <con:property>
          <con:name>UpdateBody</con:name>
          <con:value>{   "Description": "test cyclic for moment and hospitality",   "MomentCode": "${UpsertMoment#MomentName}",   "MomentResponseValues": [     {       "MomentCode": "${UpsertMoment#MomentName}",       "MomentType": "PROMOTIONAL_CURRENCY",       "ResponsePropertyName": "BASE INDICATOR",       "ResponsePropertyValue": "N",       "Status": "P"     },     {       "MomentCode": "${UpsertMoment#MomentName}",       "MomentType": "PROMOTIONAL_CURRENCY",       "ResponsePropertyName": "ENGAGE INDICATOR",       "ResponsePropertyValue": "N",       "Status": "P"     },     {       "MomentCode": "${UpsertMoment#MomentName}",       "MomentType": "PROMOTIONAL_CURRENCY",       "ResponsePropertyName": "NEGATE OUTCOME",       "ResponsePropertyValue": "N",       "Status": "P"     },     {       "MomentCode": "${UpsertMoment#MomentName}",       "MomentType": "PROMOTIONAL_CURRENCY",       "ResponsePropertyName": "POINT SUBTYPE",       "ResponsePropertyValue":"${GetPointAndSubPointType#HatchedEggsId}",       "Status": "P"       },     {       "MomentCode": "${UpsertMoment#MomentName}",       "MomentType": "PROMOTIONAL_CURRENCY",       "ResponsePropertyName": "POINT TYPE",       "ResponsePropertyValue": "${GetPointAndSubPointType#EggsId}",        "Status": "P"     }	   ],   "MomentType": "PROMOTIONAL_CURRENCY",   "StartDate": "2021-05-19T00:00:00Z",   "StartDateString": "05/19/2021 12:00:00 AM",   "EndDate": "2030-09-01T23:59:59Z",   "EndDateString": "09/01/2030 11:59:59 PM",   "TenantId": "00000000-0000-0000-0000-000000000000",   "MomentStatus": "A",   "MomentEvent": {     "MomentCode": "${UpsertMoment#MomentName}",     "EventType": "PurchaseTxn",     "EventId": "2ac39cd9-b6d9-4028-a2ac-6db7f6298ec8",     "MomentEventId": null,     "MomentQualifyingDateAttribute": "PurchaseTxn.TransactionDateTime",     "MomentQualifyingDateAttributeDrools": "$PurchaseTxn:PurchaseTxnC(isItBetween(TransactionDateTime,\"2023-01-13 12:00:00 AM\",\"2023-03-02 11:59:59 PM\"))",     "MomentOffers": [       {         "MomentCode": "${UpsertMoment#MomentName}",         "EventType": "PurchaseTxn",         "OfferName": "${UpsertMoment#MomentName}",         "Description": "test cyclic for moment and hospitality",         "MomentOutcome": {           "MomentCode": "${UpsertMoment#MomentName}",           "EventType": "PurchaseTxn",           "OfferName": "${UpsertMoment#MomentName}",           "OutcomeId": null,           "InitialOutcomeHtmlString": null,           "OutcomeEquationUi": "10",           "CalculationTemplate": "&lt;fixedpoints,[Number]>",           "OutcomeEquationTemplate": "%5B%7B%22name%22%3A%22fixedpoints%22%2C%22type%22%3A%22Number%22%2C%22objType%22%3A%22var%22%2C%22id%22%3A%22variable_0%22%2C%22value%22%3A%2210%22%2C%22isSelect%22%3Afalse%2C%22funcName%22%3A%22%22%2C%22filterType%22%3A%22%22%2C%22drools%22%3A%22%22%2C%22collectionAttribute%22%3Afalse%2C%22refId%22%3A%22%22%7D%2C%7B%22name%22%3A%22%22%2C%22type%22%3A%22%22%2C%22objType%22%3A%22drools%22%2C%22id%22%3A%22%22%2C%22value%22%3A%22String.valueOf(10)%22%2C%22isSelect%22%3Afalse%2C%22funcName%22%3A%22%22%2C%22filterType%22%3A%22%22%2C%22drools%22%3A%22%22%2C%22collectionAttribute%22%3Afalse%2C%22refId%22%3A%22%22%7D%5D",           "OutcomeEquationDrools": "MomentParam[] params = new MomentParam[] {new MomentParam(\"OfferName\",\"${UpsertMoment#MomentName}\"),new MomentParam(\"CyclicValue\",String.valueOf($cyclicValue)),new MomentParam(\"QualifyingDateAttributeValue\",$PurchaseTxn.getTransactionDateTime())};\nMomentParam[] outcomeValues = null;\nmo.add(new MomentOutcome(\"${UpsertMoment#MomentName}\",String.valueOf(10),params, outcomeValues));\n",           "FormulaName": "FIXEDAMT",           "Status": "P"         },         "MomentQualifyingRule": {           "MomentCode": "${UpsertMoment#MomentName}",           "EventType": "PurchaseTxn",           "OfferName": "${UpsertMoment#MomentName}",           "QualifyingRuleId": null,           "RuleEquationUI": "PurchaseTxn.ProgramCode == \"PP\" &amp;&amp; PurchaseTxn.Nights >= 3",           "RuleEquationUiWithValidValues": null,           "RuleEquationDrools": "PurchaseTxnC(ProgramCode == \"PP\" &amp;&amp; Nights >= 3)\nPurchaseTxnC($cyclicValue:Nights)",           "CyclicAttribute": "PurchaseTxn.Nights",           "CyclicThreshold": 6,           "MomentCap": [],           "TimeRangeCap": [             {               "MomentCode": "${UpsertMoment#MomentName}",               "EventType": "PurchaseTxn",               "OfferName": "${UpsertMoment#MomentName}",               "CapName": "DailyIssuedCount",               "CapValue": null,               "CapType": "OUTCOMEISSUED",               "IsTimeRangeCap": true,               "Duration": "Daily",               "DurationDescription": "Day (12:00am-11:59pm)",               "IsDisplayed": false,               "Status": "P",               "CreateUser": "SYSUSER",               "CreateDate": "2021-03-23T09:24:47Z",               "UpdateUser": "SYSUSER",               "UpdateDate": "2021-03-23T09:24:47Z"             },             {               "MomentCode": "${UpsertMoment#MomentName}",               "EventType": "PurchaseTxn",               "OfferName": "${UpsertMoment#MomentName}",               "CapName": "WeeklyIssuedCount",               "CapValue": null,               "CapType": "OUTCOMEISSUED",               "IsTimeRangeCap": true,               "Duration": "Weekly",               "DurationDescription": "Week (Sunday-Saturday)",               "IsDisplayed": false,               "Status": "P",               "CreateUser": "SYSUSER",               "CreateDate": "2021-03-23T09:24:47Z",               "UpdateUser": "SYSUSER",               "UpdateDate": "2021-03-23T09:24:47Z"             },             {               "CapId": null,               "MomentCode": "${UpsertMoment#MomentName}",               "EventType": "PurchaseTxn",               "OfferName": "${UpsertMoment#MomentName}",               "CapName": "MonthlyIssuedCount",               "CapValue": null,               "CapType": "OUTCOMEISSUED",               "IsTimeRangeCap": true,               "Duration": "Monthly",               "DurationDescription": "Month (1st day-last day of the month)",               "IsDisplayed": false,               "Status": "P",               "CreateUser": "SYSUSER",               "CreateDate": "2021-03-23T09:24:47Z",               "UpdateUser": "SYSUSER",               "UpdateDate": "2021-03-23T09:24:47Z",             }           ],           "Status": "P"         },         "Rank": null,         "Questions": null,         "Status": "A"       }     ],   },   "MomentRespProperties": [     {       "ResponsePropertyId": "08029983-4f25-4645-867c-efc3ac4e5734",       "ResponsePropertyName": "BASE INDICATOR",       "MomentType": "PROMOTIONAL_CURRENCY",       "ValueGroup": "BASE POINTS",       "LevelNumber": 11,       "ValidValue": "N",       "ValidValues": [         {           "Id": "20893aa3-9be9-8f48-e053-40f1ef0a06cf",           "Value": "N",           "Description": "False"         },         {           "Id": "20893aa3-9ce9-8f48-e053-40f1ef0a06cf",           "Value": "Y",           "Description": "True"         }       ],       "Status": "A",       "CreateUser": "SEED_USER",       "CreateDate": "2015-06-09T18:47:01.472365Z",       "UpdateUser": "SEED_USER",       "UpdateDate": "2015-06-09T18:47:01.472365Z",       "JsonExternalData": null     },     {       "ResponsePropertyId": "4fae5bcb-e64a-9f46-a6de-e0275013395f",       "ResponsePropertyName": "ENGAGE INDICATOR",       "MomentType": "PROMOTIONAL_CURRENCY",       "ValueGroup": "ENGAGE INDICATOR",       "LevelNumber": 11,       "ValidValue": "N",       "ValidValues": [         {           "Id": "5a1b13f9-1135-4aa6-89d2-16372e9061db",           "Value": "N",           "Description": "False"         },         {           "Id": "d622f4e5-6c8b-4712-ad5e-8d862d029a38",           "Value": "Y",           "Description": "True"         }       ],       "Status": "A",       "CreateUser": "SEED_USER",       "CreateDate": "2018-12-17T10:51:23Z",       "UpdateUser": "SEED_USER",       "UpdateDate": "2018-12-17T10:51:23Z",       "JsonExternalData": null     },     {       "ResponsePropertyId": "775c19df-ce0b-4ada-ad59-92e158d047b7",       "ResponsePropertyName": "NEGATE OUTCOME",       "MomentType": "PROMOTIONAL_CURRENCY",       "ValueGroup": "NEGATE OUTCOME",       "LevelNumber": 11,       "ValidValue": "N",       "ValidValues": [         {           "Id": "39b0b362-ca11-417e-b061-00154e5bec7e",           "Value": "N",           "Description": "False"         },         {           "Id": "131d595d-9cce-43dd-924d-cb13cf3daca3",           "Value": "Y",           "Description": "True"         }       ],       "Status": "A",       "CreateUser": "SEED_USER",       "CreateDate": "2019-06-23T23:48:58Z",       "UpdateUser": "SEED_USER",       "UpdateDate": "2019-06-23T23:48:58Z",       "JsonExternalData": null     },     {       "ResponsePropertyId": "af471edb-c199-4c8d-ae76-e8bd111d9996",       "ResponsePropertyName": "POINT SUBTYPE",       "MomentType": "PROMOTIONAL_CURRENCY",       "ValueGroup": "POINT TYPE",       "LevelNumber": 11,       "ValidValue": "65bba187-1da6-460d-84f9-5178bfd44b2f",       "ValidValues": [         {           "Id": "daab6ba4-a5f5-c768-e053-40f1ef0a505d",           "Value": "315df4bc-fc74-4324-b80a-4c8f7a977dc1",           "Description": "Cluck Cash"         },         {           "Id": "daab6ba4-a4f5-c768-e053-40f1ef0a505d",           "Value": "176e4fc6-f8c3-45b0-8299-dac2cf67dc58",           "Description": "Cluck Cash Promo"         },         {           "Id": "ec8f84a6-f242-aa15-e053-40f1ef0a01c6",           "Value": "ccc8e6ca-addf-47af-bd26-a491e3b9ecfb",           "Description": "Gold Stars"         },         {           "Id": "b9ab6ba4-cc78-973c-e053-40f1ef0a0c93",           "Value": "65bba187-1da6-460d-84f9-5178bfd44b2f",           "Description": "Hatched Eggs"         },         {           "Id": "b9ab6ba4-cf78-973c-e053-40f1ef0a0c93",           "Value": "b64c4e3f-a6e9-47c1-9af0-bc969f2504c3",           "Description": "Promo Points"         },         {           "Id": "ec8f84a6-f142-aa15-e053-40f1ef0a01c6",           "Value": "456dc205-a514-4326-81c9-f391647d77e2",           "Description": "Silver Stars"         },         {           "Id": "b9ab6ba4-ce78-973c-e053-40f1ef0a0c93",           "Value": "87a58a17-e6d6-4886-9b0f-74136f7807d2",           "Description": "Std Points"         },         {           "Id": "b9ab6ba4-cd78-973c-e053-40f1ef0a0c93",           "Value": "ec6df9fd-2389-436a-918d-13b38cbb5b96",           "Description": "Unhatched Eggs"         }       ],       "Status": "A",       "CreateUser": "SEED_USER",       "CreateDate": "2015-06-09T18:47:01.487966Z",       "UpdateUser": "SEED_USER",       "UpdateDate": "2015-06-09T18:47:01.487966Z",       "JsonExternalData": null     },     {       "ResponsePropertyId": "4071f0c1-6099-464f-9b64-f5b19f25e444",       "ResponsePropertyName": "POINT TYPE",       "MomentType": "PROMOTIONAL_CURRENCY",       "ValueGroup": "POINT TYPE",       "LevelNumber": 1,       "ValidValue": "9e83b843-0d1e-4d3b-b0aa-3b631d4c4a02",       "ValidValues": [         {           "Id": null,           "Value": "03ea22d2-8700-4f83-a88f-9cc75db9747d",           "Description": "Cluck Bucks"         },         {           "Id": null,           "Value": "9e83b843-0d1e-4d3b-b0aa-3b631d4c4a02",           "Description": "Eggs"         },         {           "Id": null,           "Value": "67d97e6e-e1ec-4bdf-8e7e-a27217e5d7ff",           "Description": "Points"         },         {           "Id": null,           "Value": "4c581f81-3d94-4eb9-a63f-6812d039b482",           "Description": "Stars"         }       ],       "Status": "A",       "CreateUser": "SEED_USER",       "CreateDate": "2015-06-09T18:47:01.487966Z",       "UpdateUser": "SEED_USER",       "UpdateDate": "2015-06-09T18:47:01.487966Z",       "JsonExternalData": null     }   ],   "BestOfferIndicator": false,   "AdvancedModeIndicator": false,   "ReleaseState": "P",   "IsTestUser": false,   "Status": "A" }</con:value>
        </con:property>
        <con:property>
          <con:name>MomentId</con:name>
        </con:property>
      </con:properties>
      <con:returnProperties/>
      <con:runMode>SINGLETON_AND_WAIT</con:runMode>
    </con:config>
  </con:testStep>
  <con:testStep type="calltestcase" name="DeactivateMoment" id="f26174e1-4bec-48d0-8c6f-d74fece33ff9">
    <con:settings/>
    <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:targetTestCase>c903534c-32ad-44dc-9cb6-a72fc8de1482</con:targetTestCase>
      <con:properties>
        <con:property>
          <con:name>MomentId</con:name>
          <con:value>${#[Moment#UpsertMoment#MomentId]#result}</con:value>
        </con:property>
      </con:properties>
      <con:returnProperties/>
      <con:runMode>SINGLETON_AND_WAIT</con:runMode>
    </con:config>
  </con:testStep>
  <con:properties>
    <con:property>
      <con:name>eventType</con:name>
      <con:value>PurchaseTxn</con:value>
    </con:property>
    <con:property>
      <con:name>atributeName</con:name>
      <con:value>Nights</con:value>
    </con:property>
  </con:properties>
  <con:reportParameters/>
</con:testCase>
