<?xml version="1.0" encoding="UTF-8"?>
<con:testCase id="3ffb52fb-ad22-48fc-9d62-2f55a78939a6" discardOkResults="false" failOnError="true" failTestCaseOnErrors="true" keepSession="false" name="DeployCustOffWRecVisitsNeg" searchProperties="true" timeout="0" xmlns:con="http://eviware.com/soapui/config">
  <con:settings>
    <con:setting id="3ffb52fb-ad22-48fc-9d62-2f55a78939a6fileName">DeployCustOffWRecVisitsNeg</con:setting>
  </con:settings>
  <con:testStep type="calltestcase" name="GetEventAttributesByEvent" id="d2352d9b-09d1-4fcb-87ba-a39c0ee17e30">
    <con:settings/>
    <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:targetTestCase>bd77f049-74f7-4fd6-9df5-554d9e08bff9</con:targetTestCase>
      <con:properties>
        <con:property>
          <con:name>eventType</con:name>
          <con:value>PurchaseTxn</con:value>
        </con:property>
      </con:properties>
      <con:returnProperties/>
      <con:runMode>SINGLETON_AND_WAIT</con:runMode>
    </con:config>
  </con:testStep>
  <con:testStep type="groovy" name="visitsEventId" id="022aa879-e1d0-441a-8823-3e659ae90d20">
    <con:settings/>
    <con:config>
      <script>def visitsEventId = context.expand( '${#[OffersPrerequisite#GetEventAttributesByEventType#GetEventAttributesByEventType]#Response#$[?(@.AttributeName==\'Visits\')].EventAttributeId[0]}' )</script>
    </con:config>
  </con:testStep>
  <con:testStep type="calltestcase" name="UpdateEventAttributes" id="5a960af5-f5ee-41b9-bf6f-41a0e7643f96">
    <con:settings/>
    <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:targetTestCase>73646b48-d758-4ca3-82ee-3a8ec2812b9b</con:targetTestCase>
      <con:properties>
        <con:property>
          <con:name>AttributeJSON</con:name>
          <con:value>{     "EventAttributeId": "${visitsEventId#result}",     "AttributeName": "Visits",     "CyclicIndicator": true,     "CapIndicator": false,     "CyclicMapField": "Visits",     "IsLineItem": false,     "CollectionIndicator": false,     "DataTypeDrl": "Double",     "DataTypeUi": "Number",     "EventType": "PurchaseTxn",     "AttributeFqn": "PurchaseTxn.Visits",     "DroolsVariableName": "$PurchaseTxn",     "CollectionAttribute": false,     "UsedAsCyclic": false,     "ReturnAttribute": false,     "IsValueGroupHierarchy": false,     "IsEnrichmentLinkedAttribute": false,     "IsEnrichmentAttribute": false,     "Status": "A"       }</con:value>
        </con:property>
        <con:property>
          <con:name>eventType</con:name>
          <con:value>PurchaseTxn</con:value>
        </con:property>
        <con:property>
          <con:name>attributeName</con:name>
          <con:value>Visits</con:value>
        </con:property>
      </con:properties>
      <con:returnProperties/>
      <con:runMode>SINGLETON_AND_WAIT</con:runMode>
    </con:config>
  </con:testStep>
  <con:properties/>
  <con:reportParameters/>
</con:testCase>
