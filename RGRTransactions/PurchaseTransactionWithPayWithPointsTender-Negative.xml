<?xml version="1.0" encoding="UTF-8"?>
<con:testCase id="3ee6a761-6756-4484-883c-68ac849e374a" discardOkResults="false" failOnError="true" failTestCaseOnErrors="true" keepSession="false" name="PurchaseTransactionWithPayWithPointsTender-Negative" searchProperties="true" timeout="0" xmlns:con="http://eviware.com/soapui/config">
  <con:settings>
    <con:setting id="3ee6a761-6756-4484-883c-68ac849e374afileName">PurchaseTransactionWithPayWithPointsTender-Negative</con:setting>
  </con:settings>
  <con:testStep id="2eded419-0b0b-455e-aa15-fc6a7438e25f" name="PurchaseTransaction" type="datasource">
    <con:settings/>
    <con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:dataSource type="File">
        <con:configuration>
          <fileName>${#Project#ProjectPath}/References/PurchaseTransaction.csv</fileName>
          <separator>,</separator>
          <trim>true</trim>
          <charset>Cp1252</charset>
          <quotedValues>false</quotedValues>
        </con:configuration>
      </con:dataSource>
      <con:shared>true</con:shared>
      <con:restartShared>true</con:restartShared>
      <con:property>ProgramCode</con:property>
      <con:property>TransactionTypeCode</con:property>
      <con:property>TransactionNetTotal</con:property>
      <con:property>TransactionEligible</con:property>
      <con:property>ShippingAndHandling</con:property>
      <con:property>TransactionTotalTax</con:property>
      <con:property>TransNumber</con:property>
      <con:property>CurrencyCode</con:property>
      <con:property>PostingDateTime</con:property>
      <con:property>TransDate</con:property>
      <con:property>OnlyAddTransData</con:property>
      <con:property>SuspendTransaction</con:property>
      <con:property>TransactionDescription</con:property>
      <con:property>StoreCode</con:property>
      <con:property>GrossAmount</con:property>
      <con:property>TaxAmount</con:property>
      <con:property>DollarValueGross</con:property>
      <con:property>DollarValueNet</con:property>
      <con:property>ItemNumber1</con:property>
      <con:property>ItemNumber2</con:property>
      <con:property>Quantity</con:property>
      <con:property>ItemNumberTypeCode</con:property>
      <con:property>CouponAmount1</con:property>
      <con:property>CouponAmount2</con:property>
      <con:property>CouponNumber1</con:property>
      <con:property>CouponNumber2</con:property>
      <con:property>CouponNumber3</con:property>
      <con:property>CouponNumber4</con:property>
      <con:property>CouponNumber5</con:property>
      <con:property>CouponNumber6</con:property>
      <con:property>TenderCode1</con:property>
      <con:property>TenderCode2</con:property>
      <con:property>TenderAmount1</con:property>
      <con:property>TenderAmount2</con:property>
      <con:property>CustomDataName1</con:property>
      <con:property>CustomDataDescription1</con:property>
      <con:property>CustomDataValue1</con:property>
      <con:property>CustomDataName2</con:property>
      <con:property>CustomDataDescription2</con:property>
      <con:property>CustomDataValue2</con:property>
      <con:property>ThreeQuantity</con:property>
      <con:property>FiveQuantity</con:property>
      <con:property>TransactionNetTotal100</con:property>
      <con:property>TransactionNetTotal120</con:property>
      <con:property>DollarValueGrossPr1</con:property>
      <con:property>DollarValueNetPr1</con:property>
      <con:property>TransactionNetTotal175</con:property>
      <con:property>DollarValueGross180</con:property>
      <con:property>DollarValueNet175</con:property>
      <con:property>DollarValueGross30</con:property>
      <con:property>DollarValueNet25</con:property>
      <con:property>DollarValueGross25</con:property>
      <con:property>DollarValueNet20</con:property>
      <con:property>FourQuantity</con:property>
      <con:property>DollarValueGross60</con:property>
      <con:property>DollarValueNet55</con:property>
      <con:property>ItemNumber3</con:property>
      <con:property>TransactionNetTotal6300</con:property>
      <con:property>TransactionGross6310</con:property>
      <con:property>DollarValueGross6300</con:property>
      <con:property>DollarValueNet6310</con:property>
      <con:property>TransactionNetTotal230</con:property>
      <con:property>TransactionGross235</con:property>
      <con:property>DollarValueGross230</con:property>
      <con:property>DollarValueNet235</con:property>
      <con:property>TransactionNetTotal510</con:property>
      <con:property>TransactionGross515</con:property>
      <con:property>DollarValueGross510</con:property>
      <con:property>DollarValueNet515</con:property>
      <con:property>TransactionNetTotal389</con:property>
      <con:property>TransactionGross395</con:property>
      <con:property>DollarValueGross389</con:property>
      <con:property>DollarValueNet395</con:property>
      <con:property>TransactionNetTotal698</con:property>
      <con:property>TransactionGross699</con:property>
      <con:property>DollarValueGross698</con:property>
      <con:property>DollarValueNet699</con:property>
      <con:property>P1TranDate</con:property>
      <con:property>E1TranDate</con:property>
      <con:property>SixQuantity</con:property>
      <con:property>TwoQuantity</con:property>
      <con:property>P1ItemNumber3</con:property>
      <con:property>P1NetTotal</con:property>
      <con:property>P1GrossAmount</con:property>
      <con:property>TransactionNetTotal10025</con:property>
      <con:property>GrossAmount11025</con:property>
      <con:property>TransactionNetTotal2000</con:property>
      <con:property>SevenQuantity</con:property>
      <con:property>TransactionNetTotal400</con:property>
      <con:property>GrossAmount410</con:property>
      <con:property>TransactionNetTotal4000</con:property>
      <con:property>GrossAmount4100</con:property>
      <con:property>TransactionNetTotal1000</con:property>
      <con:property>GrossAmount1100</con:property>
      <con:property>StoreCodePP1502</con:property>
      <con:property>ItemNumberEggs</con:property>
      <con:property>ItemNumberHotCake</con:property>
      <con:startRow>1</con:startRow>
      <con:endRow/>
      <con:recordsPerIteration>1</con:recordsPerIteration>
      <con:completeLastOperation>true</con:completeLastOperation>
      <con:trimValues>false</con:trimValues>
      <con:entitizeValues>false</con:entitizeValues>
      <con:restartOnRun>true</con:restartOnRun>
      <con:expandProperties>false</con:expandProperties>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="Get Point Type" id="70f541f2-4dbb-4875-889d-2d097c1b1e28">
    <con:settings/>
    <con:config service="RestAPIs" resourcePath="/api/v1/referencedata/transactions/pointtypes" methodName="GetPointTypes" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:restRequest id="41d772c9-42ab-4326-8052-f61f2a44d3be" mediaType="application/json" name="Get Point Type">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:endpoint>https://q3alin-pveapi.skynetlowerenv.com/</con:endpoint>
        <con:request/>
        <con:originalUri>https://q3alin-pveapi.skynetlowerenv.com/api/v1/referencedata/transactions/pointtypes</con:originalUri>
        <con:assertion type="DataAndMetadataAssertion" id="9e0a3419-d124-474f-a62f-33677c50e101" name="HTTP Status Code">
          <con:configuration xsi:type="con:DataAndMetadataAssertion">
            <con:mode>Received Metadata</con:mode>
            <con:elements>
              <con:path>$['Headers']['date']</con:path>
              <con:element>date</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>Thu, 05 May 2022 20:02:10 GMT</con:expectedValue>
              <con:caseSensitive>false</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['server']</con:path>
              <con:element>server</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>Apache/2.4.6 (Red Hat Enterprise Linux) OpenSSL/1.0.2k-fips</con:expectedValue>
              <con:caseSensitive>false</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['content-length']</con:path>
              <con:element>content-length</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>413</con:expectedValue>
              <con:caseSensitive>false</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['language-code']</con:path>
              <con:element>language-code</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>EN_US</con:expectedValue>
              <con:caseSensitive>false</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['x-frame-options']</con:path>
              <con:element>x-frame-options</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>DENY</con:expectedValue>
              <con:caseSensitive>false</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['pragma']</con:path>
              <con:element>pragma</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>no-cache</con:expectedValue>
              <con:caseSensitive>false</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['x-content-type-options']</con:path>
              <con:element>x-content-type-options</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>nosniff</con:expectedValue>
              <con:caseSensitive>false</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['x-xss-protection']</con:path>
              <con:element>x-xss-protection</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>1</con:expectedValue>
              <con:caseSensitive>false</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['connection']</con:path>
              <con:element>connection</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>keep-alive</con:expectedValue>
              <con:caseSensitive>false</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['correlationid']</con:path>
              <con:element>correlationid</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>49f75340-96ef-7f0a-cc61-45e3e8d1796c</con:expectedValue>
              <con:caseSensitive>false</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['content-type']</con:path>
              <con:element>content-type</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>application/json; charset=utf-8</con:expectedValue>
              <con:caseSensitive>false</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['process-time']</con:path>
              <con:element>process-time</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>10ms</con:expectedValue>
              <con:caseSensitive>false</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['#status#']</con:path>
              <con:element>#status#</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>HTTP/1.1 200 OK</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['cache-control']</con:path>
              <con:element>cache-control</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>no-store,no-cache</con:expectedValue>
              <con:caseSensitive>false</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['new-correlationid']</con:path>
              <con:element>new-correlationid</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>0HMHEHBGIHSAT:00000109</con:expectedValue>
              <con:caseSensitive>false</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:originalMessage>{"Headers":{"date":"Thu, 05 May 2022 20:02:10 GMT","server":"Apache/2.4.6 (Red Hat Enterprise Linux) OpenSSL/1.0.2k-fips","content-length":"413","language-code":"EN_US","x-frame-options":"DENY","pragma":"no-cache","x-content-type-options":"nosniff","x-xss-protection":"1","connection":"keep-alive","correlationid":"49f75340-96ef-7f0a-cc61-45e3e8d1796c","content-type":"application/json; charset=utf-8","process-time":"10ms","#status#":"HTTP/1.1 200 OK","cache-control":"no-store,no-cache","new-correlationid":"0HMHEHBGIHSAT:00000109"}}</con:originalMessage>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters>
          <con:entry key="Authorization" value="OAuth ${#Project#AuthToken}"/>
          <con:entry key="Accept-Language" value="en-US"/>
          <con:entry key="pointTypeCode" value="POINTS"/>
        </con:parameters>
        <con:parameterOrder>
          <con:entry>Authorization</con:entry>
          <con:entry>Accept-Language</con:entry>
          <con:entry>status</con:entry>
          <con:entry>isGiftable</con:entry>
          <con:entry>redeemableInd</con:entry>
          <con:entry>pointTypeCode</con:entry>
          <con:entry>pointTypeShortDescription</con:entry>
        </con:parameterOrder>
        <con:environmentSpec>
          <con:entry environmentId="d653788f-b849-4013-8db6-47ad297cdee5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="3c955a23-3567-47af-b6e9-aacfcca8d9aa">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="47bb433b-fb70-41f0-b289-86004efd1deb">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="Process Tender Type" id="91684ee2-75ee-4f86-960a-0d4f79444352">
    <con:settings/>
    <con:config service="RestAPIs" resourcePath="/api/v2/referencedata/transactions/tendertypes" methodName="ProcessTenderTypes" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:restRequest name="Process Tender Type" id="67f221cf-1165-4fd4-a5fb-b8800dfb142c" mediaType="application/json" postQueryString="false">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:endpoint>https://d3aldv-pveapi.skynetlowerenv.com/</con:endpoint>
        <con:request>{
    "TenderCode": "DISCOVER",
    "Description": "Discover Card",
    "EligibleForEarning": false,
    "PayWithPointsInd": true,
    "PointTypeId": "${Get Point Type#Response#$[0]['RefPointTypeId']}",
    "Status": "A"
}</con:request>
        <con:originalUri>https://q3alin-pveapi.skynetlowerenv.com/api/v2/referencedata/transactions/tendertypes</con:originalUri>
        <con:assertion type="DataAndMetadataAssertion" id="964e8568-1d1d-4aa5-a8a3-57dd41e98d22" name="HTTP Status Code">
          <con:configuration xsi:type="con:DataAndMetadataAssertion">
            <con:mode>Received Metadata</con:mode>
            <con:elements>
              <con:path>$['Headers']['date']</con:path>
              <con:element>date</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>Thu, 05 May 2022 20:05:19 GMT</con:expectedValue>
              <con:caseSensitive>false</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['server']</con:path>
              <con:element>server</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>Apache/2.4.6 (Red Hat Enterprise Linux) OpenSSL/1.0.2k-fips</con:expectedValue>
              <con:caseSensitive>false</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['content-length']</con:path>
              <con:element>content-length</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>426</con:expectedValue>
              <con:caseSensitive>false</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['language-code']</con:path>
              <con:element>language-code</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>EN_US</con:expectedValue>
              <con:caseSensitive>false</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['x-frame-options']</con:path>
              <con:element>x-frame-options</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>DENY</con:expectedValue>
              <con:caseSensitive>false</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['pragma']</con:path>
              <con:element>pragma</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>no-cache</con:expectedValue>
              <con:caseSensitive>false</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['x-content-type-options']</con:path>
              <con:element>x-content-type-options</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>nosniff</con:expectedValue>
              <con:caseSensitive>false</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['x-xss-protection']</con:path>
              <con:element>x-xss-protection</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>1</con:expectedValue>
              <con:caseSensitive>false</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['connection']</con:path>
              <con:element>connection</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>keep-alive</con:expectedValue>
              <con:caseSensitive>false</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['correlationid']</con:path>
              <con:element>correlationid</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>87e0150b-960f-a7e7-41d3-f58cab8ca554</con:expectedValue>
              <con:caseSensitive>false</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['content-type']</con:path>
              <con:element>content-type</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>application/json; charset=utf-8</con:expectedValue>
              <con:caseSensitive>false</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['process-time']</con:path>
              <con:element>process-time</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>13ms</con:expectedValue>
              <con:caseSensitive>false</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['#status#']</con:path>
              <con:element>#status#</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>HTTP/1.1 200 OK</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['cache-control']</con:path>
              <con:element>cache-control</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>no-store,no-cache</con:expectedValue>
              <con:caseSensitive>false</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['new-correlationid']</con:path>
              <con:element>new-correlationid</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>0HMHEHBGIHSAT:00000282</con:expectedValue>
              <con:caseSensitive>false</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:originalMessage>{"Headers":{"date":"Thu, 05 May 2022 20:05:19 GMT","server":"Apache/2.4.6 (Red Hat Enterprise Linux) OpenSSL/1.0.2k-fips","content-length":"426","language-code":"EN_US","x-frame-options":"DENY","pragma":"no-cache","x-content-type-options":"nosniff","x-xss-protection":"1","connection":"keep-alive","correlationid":"87e0150b-960f-a7e7-41d3-f58cab8ca554","content-type":"application/json; charset=utf-8","process-time":"13ms","#status#":"HTTP/1.1 200 OK","cache-control":"no-store,no-cache","new-correlationid":"0HMHEHBGIHSAT:00000282"}}</con:originalMessage>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters>
          <con:entry key="Authorization" value="OAuth ${#Project#AuthToken}"/>
          <con:entry key="Accept-Language" value="en-US"/>
          <con:entry key="Program-Code" value="${#Project#ProgramCode}"/>
          <con:entry key="Content-Type" value="application/json"/>
        </con:parameters>
        <con:parameterOrder>
          <con:entry>Authorization</con:entry>
          <con:entry>Accept-Language</con:entry>
          <con:entry>Content-Type</con:entry>
          <con:entry>Program-Code</con:entry>
        </con:parameterOrder>
        <con:environmentSpec>
          <con:entry environmentId="3c955a23-3567-47af-b6e9-aacfcca8d9aa">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="47bb433b-fb70-41f0-b289-86004efd1deb">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="calltestcase" name="AddProfile" id="20d4594c-5926-4b46-a28b-2c7e4bdfd88b">
    <con:settings/>
    <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:targetTestCase>09d0b29f-fbfa-4136-9573-3b813c1795b3</con:targetTestCase>
      <con:properties>
        <con:property>
          <con:name>ProfileId</con:name>
          <con:value>e78f2891-8084-4ca8-b9b8-8986cca1d844</con:value>
        </con:property>
      </con:properties>
      <con:returnProperties>
        <con:entry>ProfileId</con:entry>
      </con:returnProperties>
      <con:runMode>SINGLETON_AND_WAIT</con:runMode>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="AddAdjustment" id="3e05159a-ff6f-47fd-a29d-8d43407d27ab">
    <con:settings/>
    <con:config service="RestAPIs" resourcePath="/api/v1/profiles/{profileId}/adjustments" methodName="AddAdjustment" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:restRequest id="9a3422f2-f90a-4dcd-9195-4f82d76a9c75" mediaType="application/json" name="AddAdjustment" postQueryString="false">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:endpoint>https://q3alin-pveapi.skynetlowerenv.com/</con:endpoint>
        <con:request>{\r
   "AdjustmentReasonCode" : "PPPOINTS",\r
   "AdjustmentComment" : "Automated adjustment test",\r
   "NumPoints" : 500
}</con:request>
        <con:originalUri>https://q3alin-pveapi.skynetlowerenv.com/api/v1/profiles/996db381-023b-4894-8af6-fc474c5fa4ec/adjustments</con:originalUri>
        <con:assertion type="DataAndMetadataAssertion" id="66f7febd-737f-4e58-8236-37050fff98e1" name="Smart Assertion">
          <con:configuration xsi:type="con:DataAndMetadataAssertion">
            <con:mode>Received Metadata</con:mode>
            <con:elements>
              <con:path>$['Headers']['date']</con:path>
              <con:element>date</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>Mon, 04 Apr 2022 15:21:38 GMT</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['server']</con:path>
              <con:element>server</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>Apache/2.4.6 (Red Hat Enterprise Linux) OpenSSL/1.0.2k-fips</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['content-length']</con:path>
              <con:element>content-length</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>574</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['language-code']</con:path>
              <con:element>language-code</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>EN_US</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['x-frame-options']</con:path>
              <con:element>x-frame-options</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>DENY</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['pragma']</con:path>
              <con:element>pragma</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>no-cache</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['x-content-type-options']</con:path>
              <con:element>x-content-type-options</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>nosniff</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['x-xss-protection']</con:path>
              <con:element>x-xss-protection</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>1</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['connection']</con:path>
              <con:element>connection</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>keep-alive</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['correlationid']</con:path>
              <con:element>correlationid</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>29bfd4ee-3661-5cb5-b884-6227efdacc1c</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['content-type']</con:path>
              <con:element>content-type</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>application/json; charset=utf-8</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['location']</con:path>
              <con:element>location</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>http://q3alin-pveapi.skynetlowerenv.com/api/v1/profiles/356d88d2-abfa-4c0a-a843-baa009fc306b/adjustments</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['process-time']</con:path>
              <con:element>process-time</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>50ms</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['#status#']</con:path>
              <con:element>#status#</con:element>
              <con:operatorId>3</con:operatorId>
              <con:enabled>true</con:enabled>
              <con:expectedValue>HTTP/1.1 201 Created, HTTP/1.1 405 Method Not Allowed</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['cache-control']</con:path>
              <con:element>cache-control</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>no-store,no-cache</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['new-correlationid']</con:path>
              <con:element>new-correlationid</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>0HMGM5CF41RMJ:00000451</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:originalMessage>{"Headers":{"date":"Mon, 04 Apr 2022 15:21:38 GMT","server":"Apache/2.4.6 (Red Hat Enterprise Linux) OpenSSL/1.0.2k-fips","content-length":"574","language-code":"EN_US","x-frame-options":"DENY","pragma":"no-cache","x-content-type-options":"nosniff","x-xss-protection":"1","connection":"keep-alive","correlationid":"29bfd4ee-3661-5cb5-b884-6227efdacc1c","content-type":"application/json; charset=utf-8","location":"http://q3alin-pveapi.skynetlowerenv.com/api/v1/profiles/356d88d2-abfa-4c0a-a843-baa009fc306b/adjustments","process-time":"50ms","#status#":"HTTP/1.1 201 Created","cache-control":"no-store,no-cache","new-correlationid":"0HMGM5CF41RMJ:00000451"}}</con:originalMessage>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters>
          <con:entry key="Authorization" value="OAuth ${#Project#AuthToken}"/>
          <con:entry key="profileId" value="${AddProfile#ProfileId}"/>
          <con:entry key="content-type" value="application/json"/>
          <con:entry key="Accept-Language" value="en-US"/>
          <con:entry key="Program-Code" value="${#Project#ProgramCode}"/>
        </con:parameters>
        <con:parameterOrder>
          <con:entry>profileId</con:entry>
          <con:entry>pointsAmount</con:entry>
          <con:entry>Authorization</con:entry>
          <con:entry>content-type</con:entry>
          <con:entry>Accept-Language</con:entry>
          <con:entry>Program-Code</con:entry>
        </con:parameterOrder>
        <con:environmentSpec>
          <con:entry environmentId="d653788f-b849-4013-8db6-47ad297cdee5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="3c955a23-3567-47af-b6e9-aacfcca8d9aa">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="47bb433b-fb70-41f0-b289-86004efd1deb">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="calltestcase" name="AddReward" id="078b2c9e-89aa-4484-92ee-adde0aba513b">
    <con:settings/>
    <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:targetTestCase>0ab204f2-3abb-48c4-b4b1-b62784eb3ff8</con:targetTestCase>
      <con:properties>
        <con:property>
          <con:name>rewardCode</con:name>
          <con:value>TESTREWARD</con:value>
        </con:property>
        <con:property>
          <con:name>UpdateReward</con:name>
          <con:value>{   "RewardId": null,   "RewardCode": "$${#TestCase#RewardCode}",   "StartDate": "2022-07-25T00:00:00Z",   "EndDate": "2022-12-31T23:59:59.999Z",   "RewardType": "O", "Status": "A",   "RewardTypeShortDescription": null,   "PointTypeId": "$${#TestCase#PointType}",   "PointTypesId": null,   "MinValue": null,   "MaxValue": null,   "RewardUsageTypeId": "27aa900c-5d36-f928-e053-5ca8e70af301",   "RedemptionTypeCode": "ISSUE_DATE_BASED",   "RedemptionStartDate": null,   "RedemptionEndDate": null,   "RewardUsageTypeShortDescription": "Fixed Point",   "CurrencyCode": "USD",   "Description": "$${#TestCase#RewardCode}",   "Title": "$${#TestCase#RewardCode}",   "Manufacturer": null,   "ImageName": null,   "ImageNameAltText": null,   "FullImageName": null,   "RetailPrice": 5.0,   "CategoryCode": "PPBAGS",   "CategoryCodeShortDescription": null,   "FixedPoints": 500,   "ShippingInfoRequired": false,   "DisplayInCatalog": false,   "DaysValid": null,   "DaysUntilRedemptionStarts": null,   "CertificateInd": true,   "ProgramCost": 5.0,   "ProgramCostPerPoint": null,   "DefaultCurrency": null,   "ProgramCode": "PP",   "PointTypeShortDescription": null,   "BurnRatioDollarValue": null,   "BurnRatioCurrencyValue": null,   "BurnRatioPointValue": null,   "StartDateString": "07/25/2022",   "RedemptionEndDateString": "",   "RedemptionStartDateString": "",   "EndDateString": "12/31/2022",   "Select": false,   "SegmentData": null,   "Tiers": null,   "PointTypeCode": null,   "RewardCustomDataGroup": {     "RewardId": "00000000-0000-0000-0000-000000000000",     "EntityName": null,     "AccountSourceCode": null,     "SourceAccountNumber": null,     "BrandOrgCode": null,     "ActivityDate": null,     "CreateFileId": null,     "CreateRecordNumber": null,     "UpdateFileId": null,     "UpdateRecordNumber": null,     "CustomData": [       {         "CustomDataName": "FAVORITE_PLACE",         "CustomDataDescription": null,         "CustomDataValue": null,         "Reference": null,         "LinkedColumnValues": null       }     ],     "ProfileId": "00000000-0000-0000-0000-000000000000",     "Status": null,     "CreateUser": null,     "CreateDate": null,     "UpdateUser": null,     "UpdateDate": null,     "JsonExternalData": null   },   "PreviewLanguageCode": null,   "CertificateType": "AUTO_GEN_GUID",   "RewardQuantity": null,   "Status": null,   "CreateUser": null,   "CreateDate": null,   "UpdateUser": null,   "UpdateDate": null,   "JsonExternalData": null }</con:value>
        </con:property>
        <con:property>
          <con:name>AddReward</con:name>
          <con:value>{   "RewardId": null,   "RewardCode": "$${#TestCase#RewardCode}",   "StartDate": "2022-07-25T00:00:00Z",   "EndDate": "2022-12-31T23:59:59.999Z",   "RewardType": "O",   "RewardTypeShortDescription": null,   "PointTypeId": "$${#TestCase#PointType}",   "PointTypesId": null,   "MinValue": null,   "MaxValue": null,   "RewardUsageTypeId": "27aa900c-5d36-f928-e053-5ca8e70af301",   "RedemptionTypeCode": "ISSUE_DATE_BASED",   "RedemptionStartDate": null,   "RedemptionEndDate": null,   "RewardUsageTypeShortDescription": "Fixed Point",   "CurrencyCode": "USD",   "Description": "$${#TestCase#RewardCode}",   "Title": "$${#TestCase#RewardCode}",   "Manufacturer": null,   "ImageName": null,   "ImageNameAltText": null,   "FullImageName": null,   "RetailPrice": 5.0,   "CategoryCode": "PPBAGS",   "CategoryCodeShortDescription": null,   "FixedPoints": 500,   "ShippingInfoRequired": false,   "DisplayInCatalog": false,   "DaysValid": null,   "DaysUntilRedemptionStarts": null,   "CertificateInd": true,   "ProgramCost": 5.0,   "ProgramCostPerPoint": null,   "DefaultCurrency": null,   "ProgramCode": "PP",   "PointTypeShortDescription": null,   "BurnRatioDollarValue": null,   "BurnRatioCurrencyValue": null,   "BurnRatioPointValue": null,   "StartDateString": "07/25/2022",   "RedemptionEndDateString": "",   "RedemptionStartDateString": "",   "EndDateString": "12/31/2022",   "Select": false,   "SegmentData": null,   "Tiers": null,   "PointTypeCode": null,   "RewardCustomDataGroup": {     "RewardId": "00000000-0000-0000-0000-000000000000",     "EntityName": null,     "AccountSourceCode": null,     "SourceAccountNumber": null,     "BrandOrgCode": null,     "ActivityDate": null,     "CreateFileId": null,     "CreateRecordNumber": null,     "UpdateFileId": null,     "UpdateRecordNumber": null,     "CustomData": [       {         "CustomDataName": "FAVORITE_PLACE",         "CustomDataDescription": null,         "CustomDataValue": null,         "Reference": null,         "LinkedColumnValues": null       }     ],     "ProfileId": "00000000-0000-0000-0000-000000000000",     "Status": null,     "CreateUser": null,     "CreateDate": null,     "UpdateUser": null,     "UpdateDate": null,     "JsonExternalData": null   },   "PreviewLanguageCode": null,   "CertificateType": "AUTO_GEN_GUID",   "RewardQuantity": null,   "Status": null,   "CreateUser": null,   "CreateDate": null,   "UpdateUser": null,   "UpdateDate": null,   "JsonExternalData": null }</con:value>
        </con:property>
        <con:property>
          <con:name>Program-Code</con:name>
          <con:value>PP</con:value>
        </con:property>
        <con:property>
          <con:name>PointType</con:name>
          <con:value>${Get Point Type#Response#$[0]['RefPointTypeId']}</con:value>
        </con:property>
      </con:properties>
      <con:returnProperties/>
      <con:runMode>SINGLETON_AND_WAIT</con:runMode>
    </con:config>
  </con:testStep>
  <con:testStep type="calltestcase" name="UpsertMoment" id="f67ef71e-d0b1-42aa-a5d0-7675867fcad0">
    <con:settings/>
    <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:targetTestCase>58a85117-5558-4be0-b68f-214c9fbde4c3</con:targetTestCase>
      <con:properties>
        <con:property>
          <con:name>MomentName</con:name>
          <con:value>PWPMOMENT</con:value>
        </con:property>
        <con:property>
          <con:name>CreateBody</con:name>
          <con:value>{   "MomentCode": "${UpsertMoment#MomentName}",    "Description": "${UpsertMoment#MomentName}",   "MomentType": "REWARD_CERTIFICATES",   "StartDate": "2018-08-01T00:00:00Z",   "StartDateString": "08/01/2018 12:00:00 AM",   "EndDate": "2030-12-31T23:59:59Z",   "EndDateString": "12/31/2030 11:59:59 PM",   "MomentStatus": "A",   "MomentEvent": {     "MomentCode": "${UpsertMoment#MomentName}",     "EventType": "PurchaseTxn",     "MomentQualifyingDateAttribute": "CurrentDateTime",     "MomentQualifyingDateAttributeDrools": "$PurchaseTxn:PurchaseTxnC(IsItBetween( new Date() ,\"8/1/2018 12:00:00 AM\",\"12/31/2020 11:59:59 PM\"))",     "MomentOffers": [       {         "MomentCode": "${UpsertMoment#MomentName}",         "EventType": "PurchaseTxn",         "OfferName": "${UpsertMoment#MomentName}",         "Description": "${UpsertMoment#MomentName}",         "MomentOutcome": {           "MomentCode": "${UpsertMoment#MomentName}",           "EventType": "PurchaseTxn",           "OfferName": "${UpsertMoment#MomentName}",           "OutcomeEquationUi": "\"TESTREWARD\"",           "CalculationTemplate": "&lt;reward_certificate,[String]>",           "OutcomeEquationTemplate": "%5B%7B%22name%22%3A%22reward_certificate%22%2C%22type%22%3A%22String%22%2C%22objType%22%3A%22var%22%2C%22id%22%3A%22variable_0%22%2C%22value%22%3A%22%5C%22TESTREWARD%5C%22%22%2C%22isSelect%22%3Afalse%2C%22funcName%22%3A%22%22%2C%22filterType%22%3A%22%22%2C%22drools%22%3A%22%22%2C%22collectionAttribute%22%3Afalse%2C%22refId%22%3A%22%22%7D%2C%7B%22name%22%3A%22%22%2C%22type%22%3A%22%22%2C%22objType%22%3A%22drools%22%2C%22id%22%3A%22%22%2C%22value%22%3A%22String.valueOf(%5C%22TESTREWARD%5C%22)%22%2C%22isSelect%22%3Afalse%2C%22funcName%22%3A%22%22%2C%22filterType%22%3A%22%22%2C%22drools%22%3A%22%22%2C%22collectionAttribute%22%3Afalse%2C%22refId%22%3A%22%22%7D%5D",           "OutcomeEquationDrools": "",          "FormulaName": "FIXED_POINT_CERTIFICATE",           "Status": "A"        },         "MomentQualifyingRule": {           "MomentCode": "${UpsertMoment#MomentName}",           "EventType": "PurchaseTxn",           "OfferName": "${UpsertMoment#MomentName}",           "RuleEquationUI": "PurchaseTxn.ProgramCode==\"PP\"",           "RuleEquationDrools": "PurchaseTxnC(ProgramCode == \"PP\")",           "Status": "A"                    },         "Status": "A"              }     ],     "Status": "A"        },   "BestOfferIndicator": false,   "AdvancedModeIndicator": false,   "ReleaseState": "P",   "IsTestUser": false      }</con:value>
        </con:property>
        <con:property>
          <con:name>UpdateBody</con:name>
          <con:value>{   "MomentCode": "${UpsertMoment#MomentName}",    "Description": "${UpsertMoment#MomentName}",   "MomentType": "REWARD_CERTIFICATES",   "StartDate": "2018-08-01T00:00:00Z",   "StartDateString": "08/01/2018 12:00:00 AM",   "EndDate": "2030-12-31T23:59:59Z",   "EndDateString": "12/31/2030 11:59:59 PM",   "MomentStatus": "A",   "MomentEvent": {     "MomentCode": "${UpsertMoment#MomentName}",     "EventType": "PurchaseTxn",     "MomentQualifyingDateAttribute": "CurrentDateTime",     "MomentQualifyingDateAttributeDrools": "$PurchaseTxn:PurchaseTxnC(IsItBetween( new Date() ,\"8/1/2018 12:00:00 AM\",\"12/31/2020 11:59:59 PM\"))",     "MomentOffers": [       {         "MomentCode": "${UpsertMoment#MomentName}",         "EventType": "PurchaseTxn",         "OfferName": "${UpsertMoment#MomentName}",         "Description": "${UpsertMoment#MomentName}",         "MomentOutcome": {           "MomentCode": "${UpsertMoment#MomentName}",           "EventType": "PurchaseTxn",           "OfferName": "${UpsertMoment#MomentName}",           "OutcomeEquationUi": "\"TESTREWARD\"",           "CalculationTemplate": "&lt;reward_certificate,[String]>",           "OutcomeEquationTemplate": "%5B%7B%22name%22%3A%22reward_certificate%22%2C%22type%22%3A%22String%22%2C%22objType%22%3A%22var%22%2C%22id%22%3A%22variable_0%22%2C%22value%22%3A%22%5C%22TESTREWARD%5C%22%22%2C%22isSelect%22%3Afalse%2C%22funcName%22%3A%22%22%2C%22filterType%22%3A%22%22%2C%22drools%22%3A%22%22%2C%22collectionAttribute%22%3Afalse%2C%22refId%22%3A%22%22%7D%2C%7B%22name%22%3A%22%22%2C%22type%22%3A%22%22%2C%22objType%22%3A%22drools%22%2C%22id%22%3A%22%22%2C%22value%22%3A%22String.valueOf(%5C%22TESTREWARD%5C%22)%22%2C%22isSelect%22%3Afalse%2C%22funcName%22%3A%22%22%2C%22filterType%22%3A%22%22%2C%22drools%22%3A%22%22%2C%22collectionAttribute%22%3Afalse%2C%22refId%22%3A%22%22%7D%5D",           "OutcomeEquationDrools": "",          "FormulaName": "FIXED_POINT_CERTIFICATE",           "Status": "A"        },         "MomentQualifyingRule": {           "MomentCode": "${UpsertMoment#MomentName}",           "EventType": "PurchaseTxn",           "OfferName": "${UpsertMoment#MomentName}",           "RuleEquationUI": "PurchaseTxn.ProgramCode==\"PP\"",           "RuleEquationDrools": "PurchaseTxnC(ProgramCode == \"PP\")",           "Status": "A"                    },         "Status": "A"              }     ],     "Status": "A"        },   "BestOfferIndicator": false,   "AdvancedModeIndicator": false,   "ReleaseState": "P",   "IsTestUser": false,   "Status": "A"   }</con:value>
        </con:property>
        <con:property>
          <con:name>MomentId</con:name>
          <con:value>5bb6e94a-cd78-4876-85be-f2f0fa8d3de4</con:value>
        </con:property>
      </con:properties>
      <con:returnProperties>
        <con:entry>MomentId</con:entry>
      </con:returnProperties>
      <con:runMode>SINGLETON_AND_WAIT</con:runMode>
    </con:config>
  </con:testStep>
  <con:testStep id="a23b3e60-615b-455d-843b-9cff2b47c593" name="AddTransaction" type="restrequest">
    <con:settings/>
    <con:config xsi:type="con:RestRequestStep" methodName="ProcessTransaction" resourcePath="/api/v2/transaction" service="RestAPIs" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:restRequest id="718bd064-a7af-4380-abb6-72819bd0b41a" mediaType="application/json" name="AddTransaction" postQueryString="false">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:request>{   "ProfileId":"${AddProfile#ProfileId}",   "TransactionTypeCode": "${PurchaseTransaction#TransactionTypeCode}",   "TransactionNetTotal": "${PurchaseTransaction#TransactionNetTotal}",   "ShippingAndHandling": "${PurchaseTransaction#ShippingAndHandling}",   "TransactionTotalTax": "${PurchaseTransaction#TransactionTotalTax}",   "TransactionNumber": "${=java.util.UUID.randomUUID()}",   "CurrencyCode": "${PurchaseTransaction#CurrencyCode}",   "PostingDateTime": "${PurchaseTransaction#PostingDateTime}",   "TransactionDateTime": "${=new java.text.SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ssZ").format(new Date())}",   "TransactionEndDateTime": "${=new java.text.SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ssZ").format(new Date())}",   "TransactionDescription": "${PurchaseTransaction#TransactionDescription}",   "StoreCode": "${PurchaseTransaction#StoreCode}",   "ProgramCode": "${#Project#ProgramCode}",   "GrossAmount": "${PurchaseTransaction#GrossAmount}",   "Certificates": [     {       "CertificateNumber": "CERT1"     },     {       "CertificateNumber": "CERT2"     }   ],   "TransactionDetails": [     {       "TaxAmount": "${PurchaseTransaction#TaxAmount}",       "DollarValueGross": "${PurchaseTransaction#DollarValueGross}",       "DollarValueNet": "${PurchaseTransaction#DollarValueNet}",       "ItemNumber": "${PurchaseTransaction#ItemNumber1}",       "ItemNumberTypeCode": "${PurchaseTransaction#ItemNumberTypeCode}",       "Quantity": "${PurchaseTransaction#Quantity}",       "LineNumber": 1,       "ItemTransactionTypeCode": "${PurchaseTransaction#TransactionTypeCode}",       "Coupons": [         {           "CouponAmount": "${PurchaseTransaction#CouponAmount1}",           "CouponNumber": "${PurchaseTransaction#CouponNumber1}"         },         {           "CouponAmount": "${PurchaseTransaction#CouponAmount2}",           "CouponNumber": "${PurchaseTransaction#CouponNumber2}"         }       ]     },     {       "TaxAmount": "${PurchaseTransaction#TaxAmount}",       "DollarValueGross": "${PurchaseTransaction#DollarValueGross}",       "DollarValueNet": "${PurchaseTransaction#DollarValueNet}",       "ItemNumber": "${PurchaseTransaction#ItemNumber2}",       "ItemNumberTypeCode": "${PurchaseTransaction#ItemNumberTypeCode}",       "Quantity": "${PurchaseTransaction#Quantity}",       "LineNumber": 2,       "ItemTransactionTypeCode": "${PurchaseTransaction#TransactionTypeCode}",       "Coupons": [         {           "CouponAmount": "${PurchaseTransaction#CouponAmount1}",           "CouponNumber": "${PurchaseTransaction#CouponNumber3}"         },         {           "CouponAmount": "${PurchaseTransaction#CouponAmount2}",           "CouponNumber": "${PurchaseTransaction#CouponNumber4}"         }       ]     }   ],   "Coupons": [     {       "CouponAmount": "${PurchaseTransaction#CouponAmount1}",       "CouponNumber": "${PurchaseTransaction#CouponNumber5}"     },     {       "CouponAmount": "${PurchaseTransaction#CouponAmount2}",       "CouponNumber": "${PurchaseTransaction#CouponNumber6}"     }   ],   "Tenders": [     {       "TenderCode": "${Process Tender Type#Response#$['TenderCode']}",       "TenderAmount": "${PurchaseTransaction#TenderAmount1}"     }   ],   "TransactionCustomDataGroup": {     "EntityName": "TRANSACTION",     "CustomData": [       {         "CustomDataName": "${PurchaseTransaction#CustomDataName1}",         "CustomDataDescription": "${PurchaseTransaction#CustomDataDescription1}",         "CustomDataValue": "${PurchaseTransaction#CustomDataValue1}"       },       {         "CustomDataName": "${PurchaseTransaction#CustomDataName2}",         "CustomDataDescription": "${PurchaseTransaction#CustomDataDescription2}",         "CustomDataValue": "${PurchaseTransaction#CustomDataValue2}"       }     ]   } }</con:request>
        <con:originalUri>https://q3alin-pveapi.skynetlowerenv.com/api/v2/transaction</con:originalUri>
        <con:assertion type="DataAndMetadataAssertion" id="5b730966-48dd-45e5-948c-811497fe9f89" name="Http Success Status Code">
          <con:configuration xsi:type="con:DataAndMetadataAssertion">
            <con:mode>Received Metadata</con:mode>
            <con:elements>
              <con:path>$['Headers']['date']</con:path>
              <con:element>date</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>Fri, 20 May 2022 23:20:05 GMT</con:expectedValue>
              <con:caseSensitive>false</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['server']</con:path>
              <con:element>server</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>Apache/2.4.6 (Red Hat Enterprise Linux) OpenSSL/1.0.2k-fips</con:expectedValue>
              <con:caseSensitive>false</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['content-length']</con:path>
              <con:element>content-length</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>14518</con:expectedValue>
              <con:caseSensitive>false</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['language-code']</con:path>
              <con:element>language-code</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>EN_US</con:expectedValue>
              <con:caseSensitive>false</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['x-frame-options']</con:path>
              <con:element>x-frame-options</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>DENY</con:expectedValue>
              <con:caseSensitive>false</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['pragma']</con:path>
              <con:element>pragma</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>no-cache</con:expectedValue>
              <con:caseSensitive>false</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['x-content-type-options']</con:path>
              <con:element>x-content-type-options</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>nosniff</con:expectedValue>
              <con:caseSensitive>false</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['x-xss-protection']</con:path>
              <con:element>x-xss-protection</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>1</con:expectedValue>
              <con:caseSensitive>false</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['connection']</con:path>
              <con:element>connection</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>keep-alive</con:expectedValue>
              <con:caseSensitive>false</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['correlationid']</con:path>
              <con:element>correlationid</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>598d228c-1679-5868-f21f-4ee919e832b6</con:expectedValue>
              <con:caseSensitive>false</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['content-type']</con:path>
              <con:element>content-type</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>application/json; charset=utf-8</con:expectedValue>
              <con:caseSensitive>false</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['process-time']</con:path>
              <con:element>process-time</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>272ms</con:expectedValue>
              <con:caseSensitive>false</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['#status#']</con:path>
              <con:element>#status#</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>true</con:enabled>
              <con:expectedValue>HTTP/1.1 200 OK</con:expectedValue>
              <con:caseSensitive>false</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['cache-control']</con:path>
              <con:element>cache-control</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>no-store,no-cache</con:expectedValue>
              <con:caseSensitive>false</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['new-correlationid']</con:path>
              <con:element>new-correlationid</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>0HMHQKGNE0BSR:0000027A</con:expectedValue>
              <con:caseSensitive>false</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:originalMessage>{"Headers":{"date":"Fri, 20 May 2022 23:20:05 GMT","server":"Apache/2.4.6 (Red Hat Enterprise Linux) OpenSSL/1.0.2k-fips","content-length":"14518","language-code":"EN_US","x-frame-options":"DENY","pragma":"no-cache","x-content-type-options":"nosniff","x-xss-protection":"1","connection":"keep-alive","correlationid":"598d228c-1679-5868-f21f-4ee919e832b6","content-type":"application/json; charset=utf-8","process-time":"272ms","#status#":"HTTP/1.1 200 OK","cache-control":"no-store,no-cache","new-correlationid":"0HMHQKGNE0BSR:0000027A"}}</con:originalMessage>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters>
          <con:entry key="Authorization" value="OAuth ${#Project#AuthToken}"/>
          <con:entry key="Accept-Language" value="en-US"/>
          <con:entry key="Program-Code" value="${#Project#ProgramCode}"/>
        </con:parameters>
        <con:parameterOrder>
          <con:entry>Authorization</con:entry>
          <con:entry>Accept-Language</con:entry>
          <con:entry>Program-Code</con:entry>
        </con:parameterOrder>
        <con:environmentSpec>
          <con:entry environmentId="d653788f-b849-4013-8db6-47ad297cdee5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="3c955a23-3567-47af-b6e9-aacfcca8d9aa">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="47bb433b-fb70-41f0-b289-86004efd1deb">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="calltestcase" name="DeactivateMoment" id="218731f9-2a0a-4b7f-b6f8-b143329517fe">
    <con:settings/>
    <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:targetTestCase>c903534c-32ad-44dc-9cb6-a72fc8de1482</con:targetTestCase>
      <con:properties>
        <con:property>
          <con:name>MomentId</con:name>
          <con:value>${UpsertMoment#MomentId}</con:value>
        </con:property>
      </con:properties>
      <con:returnProperties/>
      <con:runMode>SINGLETON_AND_WAIT</con:runMode>
    </con:config>
  </con:testStep>
  <con:properties/>
  <con:reportParameters/>
</con:testCase>
