<?xml version="1.0" encoding="UTF-8"?>
<con:testCase id="4c62f6bd-6920-4061-8bb5-b5e9ef889bb5" discardOkResults="false" failOnError="true" failTestCaseOnErrors="true" keepSession="false" name="MomentANDandORS4" searchProperties="true" timeout="0" xmlns:con="http://eviware.com/soapui/config">
  <con:settings>
    <con:setting id="4c62f6bd-6920-4061-8bb5-b5e9ef889bb5fileName">MomentANDandORS4</con:setting>
  </con:settings>
  <con:testStep type="datasource" name="PointTypes" id="3f090a02-4e4b-4aaa-9ca2-4217f2d26126">
    <con:settings/>
    <con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:dataSource type="File">
        <con:configuration>
          <fileName>${#Project#ProjectPath}/References/PointTypes.csv</fileName>
          <separator>,</separator>
          <trim>true</trim>
          <charset>Cp1252</charset>
          <quotedValues>false</quotedValues>
        </con:configuration>
      </con:dataSource>
      <con:shared>true</con:shared>
      <con:restartShared>true</con:restartShared>
      <con:property>PointTypeCode</con:property>
      <con:property>PointTypeDescription</con:property>
      <con:property>PointTypeShortDescription</con:property>
      <con:property>RedeemableInd</con:property>
      <con:property>IsGiftable</con:property>
      <con:property>SubType1Code</con:property>
      <con:property>SubType1ShortDesc</con:property>
      <con:property>SubType1Desc</con:property>
      <con:property>SubType1ExpiryInd</con:property>
      <con:property>SubType1ExpiryTimeUnit</con:property>
      <con:property>SubType1ExpiryTimeValue</con:property>
      <con:property>SubType2Code</con:property>
      <con:property>SubType2ShortDesc</con:property>
      <con:property>SubType2Desc</con:property>
      <con:property>SubType2ExpiryInd</con:property>
      <con:property>SubType2ExpiryTimeUnit</con:property>
      <con:property>SubType2ExpiryTimeValue</con:property>
      <con:property>CostPerPoint</con:property>
      <con:property>CurrencyCode</con:property>
      <con:startRow>1</con:startRow>
      <con:endRow>1</con:endRow>
      <con:recordsPerIteration>1</con:recordsPerIteration>
      <con:completeLastOperation>true</con:completeLastOperation>
      <con:trimValues>false</con:trimValues>
      <con:entitizeValues>false</con:entitizeValues>
      <con:restartOnRun>true</con:restartOnRun>
      <con:expandProperties>false</con:expandProperties>
    </con:config>
  </con:testStep>
  <con:testStep type="datasource" name="MomentsUpdate" id="1a0ef789-4d6c-4642-ac26-eaa48c7fa45b">
    <con:settings/>
    <con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:dataSource type="File">
        <con:configuration>
          <fileName>${#Project#ProjectPath}/References/MomentsUpdate.csv</fileName>
          <separator>,</separator>
          <trim>true</trim>
          <charset>Cp1252</charset>
          <quotedValues>false</quotedValues>
        </con:configuration>
      </con:dataSource>
      <con:shared>true</con:shared>
      <con:restartShared>true</con:restartShared>
      <con:property>row</con:property>
      <con:property>ProgramCode</con:property>
      <con:property>MomentCode</con:property>
      <con:property>MomentType</con:property>
      <con:property>BaseInd</con:property>
      <con:property>PointTypeVal</con:property>
      <con:property>PointSubTypeVal</con:property>
      <con:property>StartDate</con:property>
      <con:property>EndDate</con:property>
      <con:property>Description</con:property>
      <con:property>QualifyingDateAttribute</con:property>
      <con:property>QualifyingDateAttributeDrools</con:property>
      <con:property>EventType</con:property>
      <con:property>OfferName</con:property>
      <con:property>CalculationTemplate</con:property>
      <con:property>OutcomeEquationTemplate</con:property>
      <con:property>OutcomeEquationDrools1</con:property>
      <con:property>OutcomeEquationDrools2</con:property>
      <con:property>OutcomeEquationDrools3</con:property>
      <con:property>FormulaName</con:property>
      <con:property>RuleEquationUI1</con:property>
      <con:property>RuleEquationUI2</con:property>
      <con:property>RuleEquationDrools1</con:property>
      <con:property>RuleEquationDrools2</con:property>
      <con:property>OutcomeEquationUiVal</con:property>
      <con:property>LeafValue</con:property>
      <con:property>OutcomeEquationTemplate1</con:property>
      <con:property>OutcomeEquationTemplate2</con:property>
      <con:property>ValueGroup</con:property>
      <con:startRow>1</con:startRow>
      <con:endRow>1</con:endRow>
      <con:recordsPerIteration>1</con:recordsPerIteration>
      <con:completeLastOperation>true</con:completeLastOperation>
      <con:trimValues>false</con:trimValues>
      <con:entitizeValues>false</con:entitizeValues>
      <con:restartOnRun>true</con:restartOnRun>
      <con:expandProperties>false</con:expandProperties>
    </con:config>
  </con:testStep>
  <con:testStep type="datasource" name="ClientMomentData" id="9ca72117-60a0-4a45-84e6-97b9f27e54cd">
    <con:settings/>
    <con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:dataSource type="File">
        <con:configuration>
          <fileName>${#Project#ProjectPath}/References/ClientMomentData.csv</fileName>
          <separator>,</separator>
          <trim>true</trim>
          <charset>Cp1252</charset>
          <quotedValues>false</quotedValues>
        </con:configuration>
      </con:dataSource>
      <con:shared>true</con:shared>
      <con:restartShared>true</con:restartShared>
      <con:property>ï»¿Row</con:property>
      <con:property>ProgramCode</con:property>
      <con:property>TransactionTypeCode</con:property>
      <con:property>TransactionNetTotal8</con:property>
      <con:property>TransactionEligible8</con:property>
      <con:property>TransactionNetTotal075</con:property>
      <con:property>TransactionEligible075</con:property>
      <con:property>TransactionNetTotal1</con:property>
      <con:property>TransactionEligible1</con:property>
      <con:property>TransactionNetTotal100</con:property>
      <con:property>TransactionEligible100</con:property>
      <con:property>TransactionTotalTax</con:property>
      <con:property>CurrencyCode</con:property>
      <con:property>TransactionDescription</con:property>
      <con:property>ExxonTransactionDescription</con:property>
      <con:property>StoreCode</con:property>
      <con:property>ItemNumberExcludeBase</con:property>
      <con:property>ItemNumberIncludeBase</con:property>
      <con:property>ItemNumberTypeCode</con:property>
      <con:property>Activity_BonusGroupCheckIn</con:property>
      <con:property>ActiveLineItem1</con:property>
      <con:property>ActiveLineItem2</con:property>
      <con:property>ActiveLineItem3</con:property>
      <con:property>ExxonOfferCode</con:property>
      <con:property>ActiveStoreCode1</con:property>
      <con:property>AROfferCode</con:property>
      <con:property>ARTransactionDescription</con:property>
      <con:property>Activity_GETMBRELIGIBLEOFFER</con:property>
      <con:startRow>1</con:startRow>
      <con:endRow>1</con:endRow>
      <con:recordsPerIteration>1</con:recordsPerIteration>
      <con:completeLastOperation>true</con:completeLastOperation>
      <con:trimValues>false</con:trimValues>
      <con:entitizeValues>false</con:entitizeValues>
      <con:restartOnRun>true</con:restartOnRun>
      <con:expandProperties>false</con:expandProperties>
    </con:config>
  </con:testStep>
  <con:testStep type="datasource" name="ClientMoments" id="c9768bc7-0fcf-4fbf-912d-f899093dc99a">
    <con:settings/>
    <con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:dataSource type="File">
        <con:configuration>
          <fileName>${#Project#ProjectPath}/References/ClientMoments.csv</fileName>
          <separator>,</separator>
          <trim>true</trim>
          <charset>Cp1252</charset>
          <quotedValues>false</quotedValues>
        </con:configuration>
      </con:dataSource>
      <con:shared>true</con:shared>
      <con:restartShared>true</con:restartShared>
      <con:property>ï»¿Row</con:property>
      <con:property>MomentCodeForExcludeBase</con:property>
      <con:property>MomentCodeForExcludeBasePoints</con:property>
      <con:property>MomentCodeForBirthMonth</con:property>
      <con:property>MomentCodeForBirthMonthPoints</con:property>
      <con:property>MomentActivityBonusGrpCheckin</con:property>
      <con:property>MomentActivityBonusGrpCheckinPoints</con:property>
      <con:property>MomentCodeForExxon</con:property>
      <con:property>MomentCodeForExxonPoints</con:property>
      <con:property>MomentCodeForDevice</con:property>
      <con:property>MomentCodeForDevicePoints</con:property>
      <con:property>MomentGapEnrollmentStore</con:property>
      <con:property>MomentGapEnrollmentStorePoints</con:property>
      <con:property>MomentCodeForSallyTransaction</con:property>
      <con:property>MomentCodeForSallyTransactionPoints1</con:property>
      <con:property>MomentCodeForSallyTransactionPoints2</con:property>
      <con:property>MomentCodeForDellWithTier</con:property>
      <con:property>MomentCodeForTierPoints</con:property>
      <con:property>MomentSallyBonusBirthday</con:property>
      <con:property>MomentSallyBonusBirthdayPoints</con:property>
      <con:property>MomentCodeForBrrokWithTierReq</con:property>
      <con:property>MomentCodeForSallyTransactionDateTime</con:property>
      <con:property>MomentSallyPilotStore</con:property>
      <con:property>MomentSallyPilotStorePoints</con:property>
      <con:property>MomentCodeForBrrokWithTierBARN</con:property>
      <con:property>MomentCodeForBrrokWithTierCOOP</con:property>
      <con:property>MomentCodeForBrrokWithTierNEST</con:property>
      <con:property>FormulaName</con:property>
      <con:property>MomentCodeForBooksBrothersWithTenders</con:property>
      <con:property>MomentCodeForBooksBrothersWithTendersPoints</con:property>
      <con:property>MomentCodeForJsonExternalDatePartID</con:property>
      <con:property>MomentCodeForARPoints</con:property>
      <con:property>MomentCodeForARS1</con:property>
      <con:property>MomentCodeForARS2</con:property>
      <con:property>MomentCodeForARS3</con:property>
      <con:property>MomentCodeForARS4</con:property>
      <con:property>MomentCodeAttributes</con:property>
      <con:property>MOMCODEUSBKDRLEQ</con:property>
      <con:property>MOMCODEUSBKDRLEQPNTS</con:property>
      <con:property>MOMCODEUSBKALTDRLEQ</con:property>
      <con:property>MOMCODEUSBKALTDRLEQPNTSOFR1</con:property>
      <con:property>MOMCODEUSBKALTDRLEQPNTSOFR2</con:property>
      <con:property>MOMCODEUSBKALTDRLEQPNTSOFR3</con:property>
      <con:startRow>1</con:startRow>
      <con:endRow>1</con:endRow>
      <con:recordsPerIteration>1</con:recordsPerIteration>
      <con:completeLastOperation>true</con:completeLastOperation>
      <con:trimValues>false</con:trimValues>
      <con:entitizeValues>false</con:entitizeValues>
      <con:restartOnRun>true</con:restartOnRun>
      <con:expandProperties>false</con:expandProperties>
    </con:config>
  </con:testStep>
  <con:testStep type="calltestcase" name="EnableDisableProgramSetting" id="6d6995c9-3d0c-4949-9442-42850a98c50c">
    <con:settings/>
    <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:targetTestCase>58358ab6-63cb-4437-8821-6fda8375ad78</con:targetTestCase>
      <con:properties/>
      <con:returnProperties/>
      <con:runMode>SINGLETON_AND_WAIT</con:runMode>
    </con:config>
  </con:testStep>
  <con:testStep type="calltestcase" name="GetPointTypes" id="c8e6571e-44cb-458c-8882-69275a9f507e">
    <con:settings/>
    <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:targetTestCase>ee4c5b9c-633e-4381-ab74-bcb3af64baee</con:targetTestCase>
      <con:properties>
        <con:property>
          <con:name>pointTypeCode</con:name>
          <con:value>${PointTypes#PointTypeCode}</con:value>
        </con:property>
      </con:properties>
      <con:returnProperties/>
      <con:runMode>SINGLETON_AND_WAIT</con:runMode>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="GetPointSubType" id="5760b74f-956e-4f96-ad36-405399651b0c">
    <con:settings/>
    <con:config service="RestAPIs" methodName="GetPointSubType" resourcePath="/api/v1/validvaluesadmin/validvalue/{valuegroup}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:restRequest name="GetPointSubType" id="e4fe05f7-df1b-46db-9c66-07d7b30805e4" mediaType="application/json">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>https://d3aldv-pveapi.skynetlowerenv.com/</con:endpoint>
        <con:request/>
        <con:originalUri>https://q3alin-pveapi.skynetlowerenv.com/api/v1/validvaluesadmin/validvalue/POINT%20TYPE</con:originalUri>
        <con:assertion type="DataAndMetadataAssertion" id="7f08cfaf-6f04-4d50-a616-0363de7ed7a5" name="Smart Assertion Status code">
          <con:configuration xsi:type="con:DataAndMetadataAssertion">
            <con:mode>Received Metadata</con:mode>
            <con:elements>
              <con:path>$['Headers']['date']</con:path>
              <con:element>date</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>Fri, 08 Jul 2022 07:52:06 GMT</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['server']</con:path>
              <con:element>server</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>Apache/2.4.6 (Red Hat Enterprise Linux) OpenSSL/1.0.2k-fips</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['content-length']</con:path>
              <con:element>content-length</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>296</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['language-code']</con:path>
              <con:element>language-code</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>EN_US</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['x-frame-options']</con:path>
              <con:element>x-frame-options</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>DENY</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['pragma']</con:path>
              <con:element>pragma</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>no-cache</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['x-content-type-options']</con:path>
              <con:element>x-content-type-options</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>nosniff</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['x-xss-protection']</con:path>
              <con:element>x-xss-protection</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>1</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['connection']</con:path>
              <con:element>connection</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>keep-alive</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['correlationid']</con:path>
              <con:element>correlationid</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>c27bb9bc-1fa6-1dc1-fae1-0a93b8f03464</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['content-type']</con:path>
              <con:element>content-type</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>application/json; charset=utf-8</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['process-time']</con:path>
              <con:element>process-time</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>15ms</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['#status#']</con:path>
              <con:element>#status#</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>true</con:enabled>
              <con:expectedValue>HTTP/1.1 200 OK</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['cache-control']</con:path>
              <con:element>cache-control</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>no-store,no-cache</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['new-correlationid']</con:path>
              <con:element>new-correlationid</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>0HMJ0CML4NE31:0000012B</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:originalMessage>{"Headers":{"date":"Fri, 08 Jul 2022 07:52:06 GMT","server":"Apache/2.4.6 (Red Hat Enterprise Linux) OpenSSL/1.0.2k-fips","content-length":"296","language-code":"EN_US","x-frame-options":"DENY","pragma":"no-cache","x-content-type-options":"nosniff","x-xss-protection":"1","connection":"keep-alive","correlationid":"c27bb9bc-1fa6-1dc1-fae1-0a93b8f03464","content-type":"application/json; charset=utf-8","process-time":"15ms","#status#":"HTTP/1.1 200 OK","cache-control":"no-store,no-cache","new-correlationid":"0HMJ0CML4NE31:0000012B"}}</con:originalMessage>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters>
          <con:entry key="Authorization" value="OAuth ${#Project#AuthToken}"/>
          <con:entry key="valuegroup" value="POINT TYPE"/>
          <con:entry key="Accept-Language" value="en-US"/>
          <con:entry key="node1Value" value="${#[ActivityCertificate#GetPointTypes#GetPointTypes]#Response#$[0]['RefPointTypeId']}"/>
        </con:parameters>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="transfer" name="PointSubTypeId" id="3ba516d6-1ab0-4ce4-8e4e-0d8fa5482be8">
    <con:settings/>
    <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
        <con:name>PointSubTypeId</con:name>
        <con:sourceType>Response</con:sourceType>
        <con:sourceStep>GetPointSubType</con:sourceStep>
        <con:sourcePath>$.[?(@.Description=='${MomentsUpdate#PointSubTypeVal}')].Value[0]</con:sourcePath>
        <con:targetType>PointSubType</con:targetType>
        <con:targetStep>#TestCase#</con:targetStep>
        <con:targetPath/>
        <con:type>JSONPATH</con:type>
        <con:upgraded>true</con:upgraded>
      </con:transfers>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="GetProgramOffers" id="109ce5b3-c05f-4d59-b3cd-8cdb2f2478c6">
    <con:settings/>
    <con:config service="RestAPIs" methodName="Get Program Offers" resourcePath="/api/v1/referencedata/programs/sysoffers" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:restRequest name="GetProgramOffers" id="98811629-e7f7-4283-a6e2-33752ad50ead" mediaType="application/json">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>https://d3aldv-pveapi.skynetlowerenv.com/</con:endpoint>
        <con:request/>
        <con:originalUri>https://q3alin-pveapi.skynetlowerenv.com/api/v1/referencedata/programs/sysoffers</con:originalUri>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters>
          <con:entry key="Authorization" value="OAuth ${#Project#AuthToken}"/>
          <con:entry key="offerCode" value="${ClientMomentData#AROfferCode}"/>
          <con:entry key="content-type" value="application/json"/>
          <con:entry key="Accept-Language" value="en-US"/>
          <con:entry key="Program-Code" value="${#Project#ProgramCode}"/>
        </con:parameters>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="transfer" name="Offer" id="029b10e3-7711-44da-bf76-51602b0b3ccb">
    <con:settings/>
    <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
        <con:name>SysOfferId</con:name>
        <con:sourceType>Response</con:sourceType>
        <con:sourceStep>GetProgramOffers</con:sourceStep>
        <con:sourcePath>[?(@.OfferCode=='${ClientMomentData#AROfferCode}')].SysOfferId[0]</con:sourcePath>
        <con:targetType>SysOfferId</con:targetType>
        <con:targetStep>#TestCase#</con:targetStep>
        <con:targetPath/>
        <con:type>JSONPATH</con:type>
        <con:upgraded>true</con:upgraded>
      </con:transfers>
      <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
        <con:name>OfferStatus</con:name>
        <con:sourceType>Response</con:sourceType>
        <con:sourceStep>GetProgramOffers</con:sourceStep>
        <con:sourcePath>[?(@.OfferCode=='${ClientMomentData#AROfferCode}')].Status[0]</con:sourcePath>
        <con:targetType>OfferStatus</con:targetType>
        <con:targetStep>#TestCase#</con:targetStep>
        <con:targetPath/>
        <con:type>JSONPATH</con:type>
        <con:upgraded>true</con:upgraded>
      </con:transfers>
    </con:config>
  </con:testStep>
  <con:testStep type="groovy" name="UpsertOfferCond" id="09742593-efd1-4467-ad07-ed72562f1353">
    <con:settings/>
    <con:config>
      <script>import static com.jayway.jsonpath.JsonPath.parse

def offerId = context.expand( '${#TestCase#SysOfferId}' )
def offerStatus = context.expand( '${#TestCase#OfferStatus}' )

if (offerId == "")  testRunner.gotoStepByName("CreateProgramOffer")
else if (offerStatus == "I")   testRunner.gotoStepByName("ActivateProgramOffer")
else
testRunner.gotoStepByName("SysOfferId")</script>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="ActivateProgramOffer" id="ef3499fd-545e-4bd4-8024-0c0923353a1b">
    <con:settings/>
    <con:config service="RestAPIs" methodName="Update Program Offer" resourcePath="/api/v1/referencedata/programs/sysoffers/{sysOfferId}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:restRequest name="ActivateProgramOffer" id="e7bcd237-e551-4ca9-97ff-c3907142051d" mediaType="application/json" postQueryString="false">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>https://d3aldv-pveapi.skynetlowerenv.com/</con:endpoint>
        <con:request>{
    "OfferCode": "${ClientMomentData#AROfferCode}",
    "ProgramCode": "PP",
    "OfferDescription": "${ClientMomentData#AROfferCode}",
    "OfferStartDate": "2019-03-01T00:00:00Z",
    "OfferEndDate": "2031-12-31T00:00:00Z",
    "OfferShortDescription": "${ClientMomentData#AROfferCode}",
    "OptInRequired": false,
    "OfferName": "${ClientMomentData#AROfferCode}",
    "OfferTermsAndConditions": "${ClientMomentData#AROfferCode}",
    "OfferTimeZone": "UTC",
    "IsCouponOffer": true,
    "Status": "A",
    "isNew": false,
    "UsageLimit": 1,
    "RedemptionCodeReqInPurchase": false,
    "RedemptionCodeReqInPurchaseOpposite": true,
    "IsAvailable": "AVAILABLE",
    "IsEligibleOffer": false
  }</con:request>
        <con:originalUri>https://q3alin-pveapi.skynetlowerenv.com/api/v1/referencedata/programs/sysoffers/0fb9d2bc-d39b-433e-b5de-3bbd674082bf</con:originalUri>
        <con:assertion type="DataAndMetadataAssertion" id="3465356a-ee39-4028-96f6-e73ee0644314" name="Smart Assertion Status code">
          <con:configuration xsi:type="con:DataAndMetadataAssertion">
            <con:mode>Received Metadata</con:mode>
            <con:elements>
              <con:path>$['Headers']['date']</con:path>
              <con:element>date</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>Tue, 12 Jul 2022 10:47:47 GMT</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['server']</con:path>
              <con:element>server</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>Apache/2.4.6 (Red Hat Enterprise Linux) OpenSSL/1.0.2k-fips</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['content-length']</con:path>
              <con:element>content-length</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>1596</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['language-code']</con:path>
              <con:element>language-code</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>EN_US</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['x-frame-options']</con:path>
              <con:element>x-frame-options</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>DENY</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['pragma']</con:path>
              <con:element>pragma</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>no-cache</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['x-content-type-options']</con:path>
              <con:element>x-content-type-options</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>nosniff</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['x-xss-protection']</con:path>
              <con:element>x-xss-protection</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>1</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['connection']</con:path>
              <con:element>connection</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>keep-alive</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['correlationid']</con:path>
              <con:element>correlationid</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>f0b3fce5-51a2-575f-f9fd-14d14e9305e6</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['content-type']</con:path>
              <con:element>content-type</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>application/json; charset=utf-8</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['process-time']</con:path>
              <con:element>process-time</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>29ms</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['#status#']</con:path>
              <con:element>#status#</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>true</con:enabled>
              <con:expectedValue>HTTP/1.1 200 OK</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['cache-control']</con:path>
              <con:element>cache-control</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>no-store,no-cache</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['new-correlationid']</con:path>
              <con:element>new-correlationid</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>0HMJ3H8Q79854:000000F2</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:originalMessage>{"Headers":{"date":"Tue, 12 Jul 2022 10:47:47 GMT","server":"Apache/2.4.6 (Red Hat Enterprise Linux) OpenSSL/1.0.2k-fips","content-length":"1596","language-code":"EN_US","x-frame-options":"DENY","pragma":"no-cache","x-content-type-options":"nosniff","x-xss-protection":"1","connection":"keep-alive","correlationid":"f0b3fce5-51a2-575f-f9fd-14d14e9305e6","content-type":"application/json; charset=utf-8","process-time":"29ms","#status#":"HTTP/1.1 200 OK","cache-control":"no-store,no-cache","new-correlationid":"0HMJ3H8Q79854:000000F2"}}</con:originalMessage>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters>
          <con:entry key="Authorization" value="OAuth ${#Project#AuthToken}"/>
          <con:entry key="content-type" value="application/json"/>
          <con:entry key="Accept-Language" value="en-US"/>
          <con:entry key="Program-Code" value="${#Project#ProgramCode}"/>
          <con:entry key="sysOfferId" value="${#TestCase#SysOfferId}"/>
        </con:parameters>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="groovy" name="ActivateOfferCond" id="e03becef-7c68-41e1-93a7-9a548bdd4952">
    <con:settings/>
    <con:config>
      <script>import static com.jayway.jsonpath.JsonPath.parse

def status = context.expand( '${ActivateProgramOffer#HarResponse#$[\'status\']}' ).toInteger()

if (status == 200)  testRunner.gotoStepByName("SysOfferId")</script>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="CreateProgramOffer" id="f53cfbfc-de2d-487f-b7ff-094b66b10701">
    <con:settings/>
    <con:config service="RestAPIs" methodName="Add Program Offer" resourcePath="/api/v1/referencedata/programs/sysoffers" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:restRequest name="CreateProgramOffer" id="cb905896-b1a6-44d3-b5d2-46423084627e" mediaType="application/json" postQueryString="false">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>https://d3aldv-pveapi.skynetlowerenv.com/</con:endpoint>
        <con:request>{
    "OfferCode": "${ClientMomentData#AROfferCode}",
    "ProgramCode": "PP",
    "OfferDescription": "${ClientMomentData#AROfferCode}",
    "OfferStartDate": "2019-01-01T00:00:00Z",
    "OfferEndDate": "2031-12-31T00:00:00Z",
    "OfferShortDescription": "${ClientMomentData#AROfferCode}",
    "OptInRequired": false,
    "OfferName": "${ClientMomentData#AROfferCode}",
    "OfferTermsAndConditions": "${ClientMomentData#AROfferCode}",
    "OfferTimeZone": "UTC",
    "IsCouponOffer": true,
    "Status": "A",
    "isNew": false,
    "UsageLimit": 1,
    "RedemptionCodeReqInPurchase": false,
    "RedemptionCodeReqInPurchaseOpposite": true,
    "IsAvailable": "AVAILABLE",
    "IsEligibleOffer": false
  }</con:request>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters>
          <con:entry key="Authorization" value="OAuth ${#Project#AuthToken}"/>
          <con:entry key="content-type" value="application/json"/>
          <con:entry key="Accept-Language" value="en-US"/>
          <con:entry key="Program-Code" value="${#Project#ProgramCode}"/>
        </con:parameters>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep id="003c442e-b936-4c68-a73b-c9cc50cfd2de" name="SysOfferId" type="groovy">
    <con:settings/>
    <con:config>
      <script>//return sys offer id extracted from get offers if it exists, else get it from create offers response
return context.expand( '${#TestCase#SysOfferId}' ) ?: context.expand( '${CreateProgramOffer#Response#$.SysOfferId}')</script>
    </con:config>
  </con:testStep>
  <con:testStep type="calltestcase" name="AddProfileRGR" id="087c5a1c-d23e-485f-a0e8-08455de9cc07">
    <con:settings/>
    <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:targetTestCase>09d0b29f-fbfa-4136-9573-3b813c1795b3</con:targetTestCase>
      <con:properties>
        <con:property>
          <con:name>ProfileId</con:name>
        </con:property>
      </con:properties>
      <con:returnProperties/>
      <con:runMode>SINGLETON_AND_WAIT</con:runMode>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="AddOfferToProfile" id="4c13c142-9cf3-46a7-b00e-da33e9ca9d2d">
    <con:settings/>
    <con:config service="RestAPIs" methodName="Process Profile Program Offer" resourcePath="/api/v2/profiles/sysoffers" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:restRequest name="AddOfferToProfile" id="aca50d83-fee1-4db3-92d8-4876818a0309" mediaType="application/json" postQueryString="false">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>https://d3aldv-pveapi.skynetlowerenv.com/</con:endpoint>
        <con:request>{
    "SysOfferId": "${SysOfferId#result}",
    "ProfileId": "${#[Profile#AddProfileRGR#AddProfileRGR]#Response#$['ProfileId']}",
    "Offsettime": 0,
    "RedemptionCodeReqInPurchase": false
  }</con:request>
        <con:originalUri>https://q3alin-pveapi.skynetlowerenv.com/api/v2/profiles/sysoffers</con:originalUri>
        <con:assertion type="DataAndMetadataAssertion" id="9bbe928d-dcb7-4d71-95e0-7fa948f0aed5" name="Smart Assertion Status code">
          <con:configuration xsi:type="con:DataAndMetadataAssertion">
            <con:mode>Received Metadata</con:mode>
            <con:elements>
              <con:path>$['Headers']['date']</con:path>
              <con:element>date</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>Tue, 12 Jul 2022 08:28:31 GMT</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['server']</con:path>
              <con:element>server</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>Apache/2.4.6 (Red Hat Enterprise Linux) OpenSSL/1.0.2k-fips</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['content-length']</con:path>
              <con:element>content-length</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>614</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['language-code']</con:path>
              <con:element>language-code</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>EN_US</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['x-frame-options']</con:path>
              <con:element>x-frame-options</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>DENY</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['pragma']</con:path>
              <con:element>pragma</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>no-cache</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['x-content-type-options']</con:path>
              <con:element>x-content-type-options</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>nosniff</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['x-xss-protection']</con:path>
              <con:element>x-xss-protection</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>1</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['connection']</con:path>
              <con:element>connection</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>keep-alive</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['correlationid']</con:path>
              <con:element>correlationid</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>f84dda8b-9a10-b760-961d-9b320a0d0acc</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['content-type']</con:path>
              <con:element>content-type</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>application/json; charset=utf-8</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['location']</con:path>
              <con:element>location</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>http://q3alin-pveapi.skynetlowerenv.com/api/v2/profiles/sysoffers</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['process-time']</con:path>
              <con:element>process-time</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>25ms</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['#status#']</con:path>
              <con:element>#status#</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>true</con:enabled>
              <con:expectedValue>HTTP/1.1 201 Created</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['cache-control']</con:path>
              <con:element>cache-control</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>no-store,no-cache</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['new-correlationid']</con:path>
              <con:element>new-correlationid</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>0HMJ3H8Q79848:000001B8</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:originalMessage>{"Headers":{"date":"Tue, 12 Jul 2022 08:28:31 GMT","server":"Apache/2.4.6 (Red Hat Enterprise Linux) OpenSSL/1.0.2k-fips","content-length":"614","language-code":"EN_US","x-frame-options":"DENY","pragma":"no-cache","x-content-type-options":"nosniff","x-xss-protection":"1","connection":"keep-alive","correlationid":"f84dda8b-9a10-b760-961d-9b320a0d0acc","content-type":"application/json; charset=utf-8","location":"http://q3alin-pveapi.skynetlowerenv.com/api/v2/profiles/sysoffers","process-time":"25ms","#status#":"HTTP/1.1 201 Created","cache-control":"no-store,no-cache","new-correlationid":"0HMJ3H8Q79848:000001B8"}}</con:originalMessage>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters>
          <con:entry key="Authorization" value="OAuth ${#Project#AuthToken}"/>
          <con:entry key="Accept-Language" value="en-US"/>
          <con:entry key="Program-Code" value="${#Project#ProgramCode}"/>
        </con:parameters>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="calltestcase" name="UpsertMoment" id="e2b4983a-efb1-4cfd-b13c-ad048ffc57b6">
    <con:settings/>
    <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:targetTestCase>58a85117-5558-4be0-b68f-214c9fbde4c3</con:targetTestCase>
      <con:properties>
        <con:property>
          <con:name>MomentName</con:name>
          <con:value>${ClientMoments#MomentCodeForARS4}</con:value>
        </con:property>
        <con:property>
          <con:name>CreateBody</con:name>
          <con:value>{     "Description": "Award fixed points for profile having offer 'ARS4OfferCode' and item number in 'SKU-00067', TenderCode in 'CHECK' and ProgramCode ='PP'",     "MomentCode": "${ClientMoments#MomentCodeForARS4}",     "MomentResponseValues": [       {        "MomentCode": "${ClientMoments#MomentCodeForARS4}",        "MomentType": "PROMOTIONAL_CURRENCY",         "ResponsePropertyName": "BASE INDICATOR",         "ResponsePropertyValue": "Y"       },       {        "MomentCode": "${ClientMoments#MomentCodeForARS4}",        "MomentType": "PROMOTIONAL_CURRENCY",         "ResponsePropertyName": "ENGAGE INDICATOR",         "ResponsePropertyValue": "N"       },       {        "MomentCode": "${ClientMoments#MomentCodeForARS4}",        "MomentType": "PROMOTIONAL_CURRENCY",         "ResponsePropertyName": "POINT SUBTYPE",         "ResponsePropertyValue": "${#TestCase#PointSubType}"       },       {        "MomentCode": "${ClientMoments#MomentCodeForARS4}",        "MomentType": "PROMOTIONAL_CURRENCY",         "ResponsePropertyName": "POINT TYPE",         "ResponsePropertyValue": "${#[ActivityCertificate#GetPointTypes#GetPointTypes]#Response#$[0]['RefPointTypeId']}"       }     ],     "MomentType": "PROMOTIONAL_CURRENCY",     "StartDate": "2019-01-01T00:00:00Z",     "EndDate": "2031-12-31T23:59:59Z",     "MomentStatus": "A",     "MomentEvent": {       "EventType": "PurchaseTxn",       "MomentQualifyingDateAttribute": "PurchaseTxn.TransactionDateTime",       "MomentOffers": [         {           "MomentOfferId": null,           "MomentCode": "${ClientMoments#MomentCodeForARS4}",           "EventType": "PurchaseTxn",           "OfferName": "${ClientMoments#MomentCodeForARS4}",           "Description": "Award fixed points for profile having offer 'ARS4OfferCode' and item number in 'SKU-00067', TenderCode in 'CHECK' and ProgramCode ='PP'",           "MomentOutcome": {             "MomentCode": "${ClientMoments#MomentCodeForARS4}",             "EventType": "PurchaseTxn",             "OfferName": "${ClientMoments#MomentCodeForARS4}",             "OutcomeId": null,             "OutcomeEquationUi": "10",             "CalculationTemplate": "&lt;fixedpoints,[Number]>",             "OutcomeEquationTemplate": "%5B%7B%22name%22%3A%22fixedpoints%22%2C%22type%22%3A%22Number%22%2C%22objType%22%3A%22var%22%2C%22id%22%3A%22variable_0%22%2C%22value%22%3A%2210%22%2C%22isSelect%22%3Afalse%2C%22funcName%22%3A%22%22%2C%22filterType%22%3A%22%22%2C%22drools%22%3A%22%22%2C%22collectionAttribute%22%3Afalse%2C%22refId%22%3A%22%22%7D%2C%7B%22name%22%3A%22%22%2C%22type%22%3A%22%22%2C%22objType%22%3A%22drools%22%2C%22id%22%3A%22%22%2C%22value%22%3A%22String.valueOf(10)%22%2C%22isSelect%22%3Afalse%2C%22funcName%22%3A%22%22%2C%22filterType%22%3A%22%22%2C%22drools%22%3A%22%22%2C%22collectionAttribute%22%3Afalse%2C%22refId%22%3A%22%22%7D%5D",             "FormulaName": "FIXEDAMT"           },           "MomentQualifyingRule": {             "OfferName": "${ClientMoments#MomentCodeForARS4}",             "QualifyingRuleId": null,            "RuleEquationUI": "PurchaseTxn.TransactionDetails.ItemNumber == \"SKU-00067\" &amp;&amp; (PurchaseTxn.Tenders.TenderCode == \"CHECK\" || PurchaseTxn.Tenders.TenderCode ==\"PC\") &amp;&amp; PurchaseTxn.ProgramCode == \"PP\""           }         }       ]     },     "ReleaseState": "P",     "Status": "A"   }</con:value>
        </con:property>
        <con:property>
          <con:name>UpdateBody</con:name>
          <con:value>{     "Description": "Award fixed points for profile having offer 'ARS4OfferCode' and item number in 'SKU-00067', TenderCode in 'CHECK' and ProgramCode ='PP'",     "MomentCode": "${ClientMoments#MomentCodeForARS4}",     "MomentResponseValues": [       {        "MomentCode": "${ClientMoments#MomentCodeForARS4}",        "MomentType": "PROMOTIONAL_CURRENCY",         "ResponsePropertyName": "BASE INDICATOR",         "ResponsePropertyValue": "Y"       },       {        "MomentCode": "${ClientMoments#MomentCodeForARS4}",        "MomentType": "PROMOTIONAL_CURRENCY",         "ResponsePropertyName": "ENGAGE INDICATOR",         "ResponsePropertyValue": "N"       },       {        "MomentCode": "${ClientMoments#MomentCodeForARS4}",        "MomentType": "PROMOTIONAL_CURRENCY",         "ResponsePropertyName": "POINT SUBTYPE",         "ResponsePropertyValue": "${#TestCase#PointSubType}"       },       {        "MomentCode": "${ClientMoments#MomentCodeForARS4}",        "MomentType": "PROMOTIONAL_CURRENCY",         "ResponsePropertyName": "POINT TYPE",         "ResponsePropertyValue": "${#[ActivityCertificate#GetPointTypes#GetPointTypes]#Response#$[0]['RefPointTypeId']}"       }     ],     "MomentType": "PROMOTIONAL_CURRENCY",     "StartDate": "2019-01-01T00:00:00Z",     "EndDate": "2031-12-31T23:59:59Z",     "MomentStatus": "A",     "MomentEvent": {       "EventType": "PurchaseTxn",       "MomentQualifyingDateAttribute": "PurchaseTxn.TransactionDateTime",       "MomentOffers": [         {           "MomentOfferId": null,           "MomentCode": "${ClientMoments#MomentCodeForARS4}",           "EventType": "PurchaseTxn",           "OfferName": "${ClientMoments#MomentCodeForARS4}",           "Description": "Award fixed points for profile having offer 'ARS4OfferCode' and item number in 'SKU-00067', TenderCode in 'CHECK' and ProgramCode ='PP'",           "MomentOutcome": {             "MomentCode": "${ClientMoments#MomentCodeForARS4}",             "EventType": "PurchaseTxn",             "OfferName": "${ClientMoments#MomentCodeForARS4}",             "OutcomeId": null,             "OutcomeEquationUi": "10",             "CalculationTemplate": "&lt;fixedpoints,[Number]>",             "OutcomeEquationTemplate": "%5B%7B%22name%22%3A%22fixedpoints%22%2C%22type%22%3A%22Number%22%2C%22objType%22%3A%22var%22%2C%22id%22%3A%22variable_0%22%2C%22value%22%3A%2210%22%2C%22isSelect%22%3Afalse%2C%22funcName%22%3A%22%22%2C%22filterType%22%3A%22%22%2C%22drools%22%3A%22%22%2C%22collectionAttribute%22%3Afalse%2C%22refId%22%3A%22%22%7D%2C%7B%22name%22%3A%22%22%2C%22type%22%3A%22%22%2C%22objType%22%3A%22drools%22%2C%22id%22%3A%22%22%2C%22value%22%3A%22String.valueOf(10)%22%2C%22isSelect%22%3Afalse%2C%22funcName%22%3A%22%22%2C%22filterType%22%3A%22%22%2C%22drools%22%3A%22%22%2C%22collectionAttribute%22%3Afalse%2C%22refId%22%3A%22%22%7D%5D",             "FormulaName": "FIXEDAMT"           },           "MomentQualifyingRule": {             "OfferName": "${ClientMoments#MomentCodeForARS4}",             "QualifyingRuleId": null,            "RuleEquationUI": "PurchaseTxn.TransactionDetails.ItemNumber == \"SKU-00067\" &amp;&amp; (PurchaseTxn.Tenders.TenderCode == \"CHECK\" || PurchaseTxn.Tenders.TenderCode ==\"PC\") &amp;&amp; PurchaseTxn.ProgramCode == \"PP\""           }         }       ]     },     "ReleaseState": "P",     "Status": "A"   }</con:value>
        </con:property>
        <con:property>
          <con:name>MomentId</con:name>
          <con:value/>
        </con:property>
      </con:properties>
      <con:returnProperties/>
      <con:runMode>SINGLETON_AND_WAIT</con:runMode>
    </con:config>
  </con:testStep>
  <con:testStep type="calltestcase" name="AddPurchaseTransactionWithSpecificSkuItem" id="c9f56870-f804-4260-a5f6-190de76e06d7">
    <con:settings/>
    <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:targetTestCase>020fa426-82b4-435d-b482-aebd7f200c61</con:targetTestCase>
      <con:properties>
        <con:property>
          <con:name>Body</con:name>
          <con:value>{     "ProfileId": "${#[Profile#AddProfileRGR#AddProfileRGR]#Response#$['ProfileId']}",     "TransactionTypeCode": "${ClientMomentData#TransactionTypeCode}",     "TransactionNetTotal": ${ClientMomentData#TransactionNetTotal8},     "TransactionEligible": ${ClientMomentData#TransactionEligible8},     "TransactionTotalTax": ${ClientMomentData#TransactionTotalTax},     "TransactionNumber": "Tran_${=new java.text.SimpleDateFormat("yyyyMMddHHmmss").format(new Date())}",     "CurrencyCode": "${ClientMomentData#CurrencyCode}",     "TransactionDateTime": "${=new java.text.SimpleDateFormat("MM/dd/yyyy HH:mm:00").format(new Date() + 1)}",     "TransactionEndDateTime": "${=new java.text.SimpleDateFormat("MM/dd/yyyy HH:mm:00").format(new Date() + 1)}",     "OnlyAddTransData": false,     "SuspendTransaction": false,     "TransactionDescription": "${ClientMomentData#ARTransactionDescription}",     "StoreCode": "${ClientMomentData#StoreCode}",     "TransactionDetails": [       {         "TaxAmount": ${ClientMomentData#TransactionTotalTax},         "ProgramCurrencyTaxAmount": ${ClientMomentData#TransactionTotalTax},         "DollarValueGross": ${ClientMomentData#TransactionNetTotal8},         "ProgramCurrencyDollarValueGross": 0.0,         "DollarValueNet":${ClientMomentData#TransactionNetTotal8},         "ProgramCurrencyDollarValueNet": 0.0,         "EligibleRevenue": ${ClientMomentData#TransactionEligible8},         "ItemNumber": "${ClientMomentData#ActiveLineItem1}",         "ItemNumberTypeCode": "${ClientMomentData#ItemNumberTypeCode}",         "Quantity": 1,         "LineNumber": 1       },       {         "TaxAmount": ${ClientMomentData#TransactionTotalTax},         "ProgramCurrencyTaxAmount": ${ClientMomentData#TransactionTotalTax},         "DollarValueGross": ${ClientMomentData#TransactionNetTotal8},         "ProgramCurrencyDollarValueGross": 0.0,         "DollarValueNet": ${ClientMomentData#TransactionNetTotal8},         "ProgramCurrencyDollarValueNet": 0.0,         "EligibleRevenue": ${ClientMomentData#TransactionEligible8},         "ItemNumber": "${ClientMomentData#ActiveLineItem2}",         "ItemNumberTypeCode": "${ClientMomentData#ItemNumberTypeCode}",         "Quantity": 1,         "LineNumber": 2       }     ],       "Coupons": [       {         "CouponAmount": 1.0,         "CouponNumber": "PPPOMO101"       }     ],      "Tenders": [       {         "TenderCode": "CHECK",         "TenderAmount": 1,         "ProgramCurrencyTenderAmount": 0.0       }     ],     "IsFosterParent": false,     "IsSuspended": false,     "IsAnonymous": false,     "IsLinkingAnonymousTransEnabled": false,     "FromGoldenProfile": false,     "IsCrm": false,     "IsClosedProfile": false,     "ReturnRawMomentData": false,     "SkipMomentEngine": false   }</con:value>
        </con:property>
        <con:property>
          <con:name>Program-Code</con:name>
          <con:value>${#Project#ProgramCode}</con:value>
        </con:property>
      </con:properties>
      <con:returnProperties/>
      <con:runMode>SINGLETON_AND_WAIT</con:runMode>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="CheckPointSummaryMomentTriggered" id="6ffc0cf7-949b-4ee8-bc40-0b4df3df3a93">
    <con:settings/>
    <con:config service="RestAPIs" resourcePath="/api/v1/profiles/{profileId}/points/summary" methodName="GetPointsSummary" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:restRequest name="CheckPointSummaryMomentTriggered" id="90aa5f43-a530-41eb-9446-2dde6c33780e" mediaType="application/json">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:endpoint>https://d3aldv-pveapi.skynetlowerenv.com/</con:endpoint>
        <con:request/>
        <con:originalUri>https://q3alin-pveapi.skynetlowerenv.com/api/v1/profiles/9455e867-1d62-4566-8c88-704c149d2dea/points/summary</con:originalUri>
        <con:assertion type="DataAndMetadataAssertion" id="f323c078-0d52-4216-a3ca-bfaa73f43a91" name="Smart Assertion Status code">
          <con:configuration xsi:type="con:DataAndMetadataAssertion">
            <con:mode>Received Metadata</con:mode>
            <con:elements>
              <con:path>$['Headers']['date']</con:path>
              <con:element>date</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>Tue, 14 Jun 2022 05:09:46 GMT</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['server']</con:path>
              <con:element>server</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>Apache/2.4.6 (Red Hat Enterprise Linux) OpenSSL/1.0.2k-fips</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['content-length']</con:path>
              <con:element>content-length</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>920</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['language-code']</con:path>
              <con:element>language-code</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>EN_US</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['x-frame-options']</con:path>
              <con:element>x-frame-options</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>DENY</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['pragma']</con:path>
              <con:element>pragma</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>no-cache</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['x-content-type-options']</con:path>
              <con:element>x-content-type-options</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>nosniff</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['x-xss-protection']</con:path>
              <con:element>x-xss-protection</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>1</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['connection']</con:path>
              <con:element>connection</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>keep-alive</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['correlationid']</con:path>
              <con:element>correlationid</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>69b0fd55-2e83-2feb-5f7d-62dcf8c9d4a3</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['content-type']</con:path>
              <con:element>content-type</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>application/json; charset=utf-8</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['process-time']</con:path>
              <con:element>process-time</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>20ms</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['#status#']</con:path>
              <con:element>#status#</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>true</con:enabled>
              <con:expectedValue>HTTP/1.1 200 OK</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['cache-control']</con:path>
              <con:element>cache-control</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>no-store,no-cache</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:elements>
              <con:path>$['Headers']['new-correlationid']</con:path>
              <con:element>new-correlationid</con:element>
              <con:operatorId>1</con:operatorId>
              <con:enabled>false</con:enabled>
              <con:expectedValue>0HMIDGOHVVGIA:00000277</con:expectedValue>
              <con:caseSensitive>true</con:caseSensitive>
              <con:numberType>false</con:numberType>
              <con:expectedDataType>1</con:expectedDataType>
            </con:elements>
            <con:originalMessage>{"Headers":{"date":"Tue, 14 Jun 2022 05:09:46 GMT","server":"Apache/2.4.6 (Red Hat Enterprise Linux) OpenSSL/1.0.2k-fips","content-length":"920","language-code":"EN_US","x-frame-options":"DENY","pragma":"no-cache","x-content-type-options":"nosniff","x-xss-protection":"1","connection":"keep-alive","correlationid":"69b0fd55-2e83-2feb-5f7d-62dcf8c9d4a3","content-type":"application/json; charset=utf-8","process-time":"20ms","#status#":"HTTP/1.1 200 OK","cache-control":"no-store,no-cache","new-correlationid":"0HMIDGOHVVGIA:00000277"}}</con:originalMessage>
          </con:configuration>
        </con:assertion>
        <con:assertion type="JsonPath Match" id="fe8d1b56-9dd2-4a0a-9749-ea5861c05d93" name="PointAmount Validation">
          <con:configuration>
            <path>$.[?(@.ActTransactionId == '${#[ActivityCertificate#PurchaseTransaction#PurchaseTransaction]#Response#$['TransactionId']}' &amp;&amp; @.MomentId == '${#[Moment#UpsertMoment#GetMomentByMomentCode]#Response#$['MomentId']}')].PointsAmount[0]</path>
            <content>${ClientMoments#MomentCodeForARPoints}.0</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters>
          <con:entry key="Authorization" value="OAuth ${#Project#AuthToken}"/>
          <con:entry key="profileId" value="${#[Profile#AddProfileRGR#AddProfileRGR]#Response#$['ProfileId']}"/>
          <con:entry key="content-type" value="application/json"/>
          <con:entry key="Accept-Language" value="en-US"/>
          <con:entry key="status" value="A"/>
        </con:parameters>
        <con:parameterOrder>
          <con:entry>profileId</con:entry>
          <con:entry>status</con:entry>
          <con:entry>Accept-Language</con:entry>
          <con:entry>Authorization</con:entry>
          <con:entry>content-type</con:entry>
        </con:parameterOrder>
        <con:environmentSpec>
          <con:entry environmentId="47bb433b-fb70-41f0-b289-86004efd1deb">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="calltestcase" name="DeactivateMoment" id="89909cb6-cfd9-42e1-9fed-08f00de71ed7">
    <con:settings/>
    <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:targetTestCase>c903534c-32ad-44dc-9cb6-a72fc8de1482</con:targetTestCase>
      <con:properties>
        <con:property>
          <con:name>MomentId</con:name>
          <con:value>${#[Moment#UpsertMoment#GetMomentByMomentCode]#Response#$['MomentId']}</con:value>
        </con:property>
      </con:properties>
      <con:returnProperties/>
      <con:runMode>SINGLETON_AND_WAIT</con:runMode>
    </con:config>
  </con:testStep>
  <con:properties>
    <con:property>
      <con:name>PointSubType</con:name>
      <con:value>8f8f9ef0-50ec-4e4c-89de-8f30bb4a11fd</con:value>
    </con:property>
    <con:property>
      <con:name>SysOfferId</con:name>
      <con:value>0fb9d2bc-d39b-433e-b5de-3bbd674082bf</con:value>
    </con:property>
    <con:property>
      <con:name>OfferStatus</con:name>
      <con:value>A</con:value>
    </con:property>
  </con:properties>
  <con:reportParameters/>
</con:testCase>
