<?xml version="1.0" encoding="UTF-8"?>
<con:testCase id="700d3226-eca3-4ecd-bb29-87d75ab0853c" discardOkResults="false" failOnError="true" failTestCaseOnErrors="true" keepSession="false" name="MergeProfileWithSurvivorVictimPoint" searchProperties="true" timeout="0" xmlns:con="http://eviware.com/soapui/config">
  <con:settings>
    <con:setting id="700d3226-eca3-4ecd-bb29-87d75ab0853cfileName">MergeProfileWithSurvivorVictimPoint</con:setting>
  </con:settings>
  <con:savedRecentRuns>1</con:savedRecentRuns>
  <con:testStep type="datasource" name="EggTypeMoment" id="766c5930-ee65-4789-ae3b-213485c3e6de">
    <con:settings/>
    <con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:dataSource type="File">
        <con:configuration>
          <fileName>${#Project#ProjectPath}/References/EggTypeMoment.csv</fileName>
          <separator>,</separator>
          <trim>true</trim>
          <charset>Cp1252</charset>
          <quotedValues>true</quotedValues>
        </con:configuration>
      </con:dataSource>
      <con:shared>true</con:shared>
      <con:restartShared>true</con:restartShared>
      <con:property>ProgramCode</con:property>
      <con:property>MomentCode</con:property>
      <con:property>MomentType</con:property>
      <con:property>BaseInd</con:property>
      <con:property>PointTypeVal</con:property>
      <con:property>PointSubTypeVal</con:property>
      <con:property>StartDate</con:property>
      <con:property>EndDate</con:property>
      <con:property>Description</con:property>
      <con:property>QualifyingDateAttribute</con:property>
      <con:property>QualifyingDateAttributeDrools</con:property>
      <con:property>EventType</con:property>
      <con:property>OfferName</con:property>
      <con:property>CalculationTemplate</con:property>
      <con:property>OutcomeEquationTemplate</con:property>
      <con:property>OutcomeEquationDrools1</con:property>
      <con:property>OutcomeEquationDrools2</con:property>
      <con:property>OutcomeEquationDrools3</con:property>
      <con:property>FormulaName</con:property>
      <con:property>RuleEquationUI</con:property>
      <con:property>RuleEquationDrools</con:property>
      <con:property>OutcomeEquationUi</con:property>
      <con:property>LeafValue</con:property>
      <con:property>OutcomeEquationTemplate1</con:property>
      <con:property>OutcomeEquationTemplate2</con:property>
      <con:property>ValueGroup</con:property>
      <con:property>OutcomeEquationTemplate3</con:property>
      <con:property>OutcomeEquationDrools4</con:property>
      <con:property>RuleEquationUI1</con:property>
      <con:property>RuleEquationDrools1</con:property>
      <con:property>OutcomeEquationUi1</con:property>
      <con:startRow>1</con:startRow>
      <con:endRow/>
      <con:recordsPerIteration>1</con:recordsPerIteration>
      <con:completeLastOperation>true</con:completeLastOperation>
      <con:trimValues>false</con:trimValues>
      <con:entitizeValues>false</con:entitizeValues>
      <con:restartOnRun>true</con:restartOnRun>
      <con:expandProperties>false</con:expandProperties>
    </con:config>
  </con:testStep>
  <con:testStep type="calltestcase" name="Add Survivor Profile" id="c188aa35-4b53-4e97-a57a-ffcf8100c63f">
    <con:settings/>
    <con:config xsi:type="con:RunTestCaseStep" copyLoadTestProperties="false" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:targetTestCase>09d0b29f-fbfa-4136-9573-3b813c1795b3</con:targetTestCase>
      <con:properties>
        <con:property>
          <con:name>ProfileId</con:name>
          <con:value>c6990da4-3469-4c75-85d2-f4d992cd14d9</con:value>
        </con:property>
      </con:properties>
      <con:returnProperties>
        <con:entry>ProfileId</con:entry>
      </con:returnProperties>
      <con:runMode>SINGLETON_AND_WAIT</con:runMode>
    </con:config>
  </con:testStep>
  <con:testStep type="calltestcase" name="Add Victim Profile" id="df7c92e1-f9e2-4184-b401-cebfc7f65db2">
    <con:settings/>
    <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:targetTestCase>f5c457de-a71d-47df-9afc-3385fe3af89a</con:targetTestCase>
      <con:properties>
        <con:property>
          <con:name>ProfileId</con:name>
        </con:property>
      </con:properties>
      <con:returnProperties/>
      <con:runMode>SINGLETON_AND_WAIT</con:runMode>
    </con:config>
  </con:testStep>
  <con:testStep type="calltestcase" name="GetPointTypeId" id="4c3725ac-484e-4fc3-811f-67b70b4ed961">
    <con:settings/>
    <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:targetTestCase>662f9f7b-4946-46e6-81d7-d06517a52c57</con:targetTestCase>
      <con:properties>
        <con:property>
          <con:name>RefPointTypeId</con:name>
        </con:property>
      </con:properties>
      <con:returnProperties/>
      <con:runMode>SINGLETON_AND_WAIT</con:runMode>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="GetPointSubTypeId" id="28825b90-5f7c-4531-b5ac-5ce25cf8c4c5">
    <con:settings/>
    <con:config service="RestAPIs" resourcePath="/api/v1/referencedata/transactions/pointtypes/{pointTypeId}" methodName="GetPointTypeById" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:restRequest id="cc3cb9aa-fc57-4d56-992d-1bb607297dc8" mediaType="application/json" name="GetPointSubTypeId">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:endpoint>https://q3alin-pveapi.skynetlowerenv.com/</con:endpoint>
        <con:request/>
        <con:originalUri>https://q3alin-pveapi.skynetlowerenv.com/api/v1/referencedata/transactions/pointtypes/9553fdc5-b45c-44e2-af75-345ca45b2c66</con:originalUri>
        <con:assertion type="Valid HTTP Status Codes" id="5969f7ca-a35a-4b10-9955-9f41f59f1a1b" name="Valid HTTP Status Codes">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters>
          <con:entry key="Authorization" value="OAuth ${#Project#AuthToken}"/>
          <con:entry key="pointTypeId" value="${#[FeaturesProfileMerge#GetPointTypeId#FetchingPointTypeId]#Response#$[0]['RefPointTypeId']}"/>
          <con:entry key="Accept-Language" value="en-US"/>
        </con:parameters>
        <con:parameterOrder>
          <con:entry>pointTypeId</con:entry>
          <con:entry>Authorization</con:entry>
          <con:entry>Accept-Language</con:entry>
        </con:parameterOrder>
        <con:environmentSpec>
          <con:entry environmentId="d653788f-b849-4013-8db6-47ad297cdee5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="3c955a23-3567-47af-b6e9-aacfcca8d9aa">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="47bb433b-fb70-41f0-b289-86004efd1deb">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="calltestcase" name="CreateEggMomentPointType" id="526b7add-14f2-4798-826d-5d1c6dbacacb">
    <con:settings/>
    <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:targetTestCase>58a85117-5558-4be0-b68f-214c9fbde4c3</con:targetTestCase>
      <con:properties>
        <con:property>
          <con:name>MomentName</con:name>
          <con:value>EGGMOMENTPOINTTYPE</con:value>
        </con:property>
        <con:property>
          <con:name>CreateBody</con:name>
          <con:value>{   "MomentCode": "${EggTypeMoment#MomentCode}${=new java.text.SimpleDateFormat("yyyyMMddHHmmssFFFF").format(new Date())}",   "MomentResponseValues": [     {       "MomentCode": "${EggTypeMoment#MomentCode}${=new java.text.SimpleDateFormat("yyyyMMddHHmmssFFFF").format(new Date())}",       "MomentType": "${EggTypeMoment#MomentType}",       "ResponsePropertyName": "BASE INDICATOR",       "ResponsePropertyValue": "${EggTypeMoment#BaseInd}",       "Status": "P"            },     {       "MomentCode": "${EggTypeMoment#MomentCode}${=new java.text.SimpleDateFormat("yyyyMMddHHmmssFFFF").format(new Date())}",       "MomentType": "${EggTypeMoment#MomentType}",       "ResponsePropertyName": "POINT SUBTYPE",       "ResponsePropertyValue": "${GetPointSubTypeId#Response#$['PointSubTypes'][0]['PointSubTypeId']}",       "Status": "P"            },     {       "MomentCode": "${EggTypeMoment#MomentCode}${=new java.text.SimpleDateFormat("yyyyMMddHHmmssFFFF").format(new Date())}",       "MomentType": "${EggTypeMoment#MomentType}",       "ResponsePropertyName": "POINT TYPE",       "ResponsePropertyValue": "${#[FeaturesProfileMerge#GetPointTypeId#FetchingPointTypeId]#Response#$[0]['RefPointTypeId']}",       "Status": "P"            }   ],   "StartDate": "${EggTypeMoment#StartDate}",   "EndDate": "${EggTypeMoment#EndDate}",   "Description": "${EggTypeMoment#Description}",   "MomentType": "${EggTypeMoment#MomentType}",   "MomentEvent": {     "MomentCode": "${EggTypeMoment#MomentCode}${=new java.text.SimpleDateFormat("yyyyMMddHHmmssFFFF").format(new Date())}",     "EventType": "${EggTypeMoment#EventType}",     "MomentQualifyingDateAttribute": "${EggTypeMoment#QualifyingDateAttribute}",     "MomentQualifyingDateAttributeDrools": "${EggTypeMoment#QualifyingDateAttributeDrools}",     "MomentOffers": [       {         "MomentCode": "${EggTypeMoment#MomentCode}${=new java.text.SimpleDateFormat("yyyyMMddHHmmssFFFF").format(new Date())}",         "OfferName": "${EggTypeMoment#MomentCode}${=new java.text.SimpleDateFormat("yyyyMMddHHmmssFFFF").format(new Date())}",         "EventType": "${EggTypeMoment#EventType}",         "Description": "${EggTypeMoment#Description}",         "MomentOutcome": {           "MomentCode": "${EggTypeMoment#MomentCode}${=new java.text.SimpleDateFormat("yyyyMMddHHmmssFFFF").format(new Date())}",           "EventType": "${EggTypeMoment#EventType}",           "OfferName": "${EggTypeMoment#MomentCode}${=new java.text.SimpleDateFormat("yyyyMMddHHmmssFFFF").format(new Date())}", 		  "OutcomeEquationUi": "${EggTypeMoment#OutcomeEquationUi}",           "CalculationTemplate": "${EggTypeMoment#CalculationTemplate}",           "OutcomeEquationTemplate": "${EggTypeMoment#OutcomeEquationTemplate}",           "OutcomeEquationDrools": "${EggTypeMoment#OutcomeEquationDrools1}${EggTypeMoment#MomentCode}${GenerateRandomNumber#result}${EggTypeMoment#OutcomeEquationDrools2}${EggTypeMoment#MomentCode}${GenerateRandomNumber#result}${EggTypeMoment#OutcomeEquationDrools3}",           "FormulaName": "${EggTypeMoment#FormulaName}", 		  "Status": "P"         },         "MomentQualifyingRule": {           "MomentCode": "${EggTypeMoment#MomentCode}${=new java.text.SimpleDateFormat("yyyyMMddHHmmssFFFF").format(new Date())}",           "EventType": "${EggTypeMoment#EventType}",           "OfferName": "${EggTypeMoment#MomentCode}${=new java.text.SimpleDateFormat("yyyyMMddHHmmssFFFF").format(new Date())}",           "RuleEquationUI": "${EggTypeMoment#RuleEquationUI}",           "RuleEquationDrools": "${EggTypeMoment#RuleEquationDrools}",           "Status": "P"                  }       }     ]   },   "ReleaseState": "P" }</con:value>
        </con:property>
        <con:property>
          <con:name>UpdateBody</con:name>
          <con:value>{   "MomentCode": "${EggTypeMoment#MomentCode}${=new java.text.SimpleDateFormat("yyyyMMddHHmmssFFFF").format(new Date())}",   "MomentResponseValues": [     {       "MomentCode": "${EggTypeMoment#MomentCode}${=new java.text.SimpleDateFormat("yyyyMMddHHmmssFFFF").format(new Date())}",       "MomentType": "${EggTypeMoment#MomentType}",       "ResponsePropertyName": "BASE INDICATOR",       "ResponsePropertyValue": "${EggTypeMoment#BaseInd}",       "Status": "P"            },     {       "MomentCode": "${EggTypeMoment#MomentCode}${=new java.text.SimpleDateFormat("yyyyMMddHHmmssFFFF").format(new Date())}",       "MomentType": "${EggTypeMoment#MomentType}",       "ResponsePropertyName": "POINT SUBTYPE",       "ResponsePropertyValue": "${GetPointSubTypeId#Response#$['PointSubTypes'][0]['PointSubTypeId']}",       "Status": "P"            },     {       "MomentCode": "${EggTypeMoment#MomentCode}${=new java.text.SimpleDateFormat("yyyyMMddHHmmssFFFF").format(new Date())}",       "MomentType": "${EggTypeMoment#MomentType}",       "ResponsePropertyName": "POINT TYPE",       "ResponsePropertyValue": "${#[FeaturesProfileMerge#GetPointTypeId#FetchingPointTypeId]#Response#$[0]['RefPointTypeId']}",       "Status": "P"            }   ],   "StartDate": "${EggTypeMoment#StartDate}",   "EndDate": "${EggTypeMoment#EndDate}",   "Description": "${EggTypeMoment#Description}",   "MomentType": "${EggTypeMoment#MomentType}",   "MomentEvent": {     "MomentCode": "${EggTypeMoment#MomentCode}${=new java.text.SimpleDateFormat("yyyyMMddHHmmssFFFF").format(new Date())}",     "EventType": "${EggTypeMoment#EventType}",     "MomentQualifyingDateAttribute": "${EggTypeMoment#QualifyingDateAttribute}",     "MomentQualifyingDateAttributeDrools": "${EggTypeMoment#QualifyingDateAttributeDrools}",     "MomentOffers": [       {         "MomentCode": "${EggTypeMoment#MomentCode}${=new java.text.SimpleDateFormat("yyyyMMddHHmmssFFFF").format(new Date())}",         "OfferName": "${EggTypeMoment#MomentCode}${=new java.text.SimpleDateFormat("yyyyMMddHHmmssFFFF").format(new Date())}",         "EventType": "${EggTypeMoment#EventType}",         "Description": "${EggTypeMoment#Description}",         "MomentOutcome": {           "MomentCode": "${EggTypeMoment#MomentCode}${=new java.text.SimpleDateFormat("yyyyMMddHHmmssFFFF").format(new Date())}",           "EventType": "${EggTypeMoment#EventType}",           "OfferName": "${EggTypeMoment#MomentCode}${=new java.text.SimpleDateFormat("yyyyMMddHHmmssFFFF").format(new Date())}", 		  "OutcomeEquationUi": "${EggTypeMoment#OutcomeEquationUi}",           "CalculationTemplate": "${EggTypeMoment#CalculationTemplate}",           "OutcomeEquationTemplate": "${EggTypeMoment#OutcomeEquationTemplate}",           "OutcomeEquationDrools": "${EggTypeMoment#OutcomeEquationDrools1}${EggTypeMoment#MomentCode}${GenerateRandomNumber#result}${EggTypeMoment#OutcomeEquationDrools2}${EggTypeMoment#MomentCode}${GenerateRandomNumber#result}${EggTypeMoment#OutcomeEquationDrools3}",           "FormulaName": "${EggTypeMoment#FormulaName}", 		  "Status": "P"         },         "MomentQualifyingRule": {           "MomentCode": "${EggTypeMoment#MomentCode}${=new java.text.SimpleDateFormat("yyyyMMddHHmmssFFFF").format(new Date())}",           "EventType": "${EggTypeMoment#EventType}",           "OfferName": "${EggTypeMoment#MomentCode}${=new java.text.SimpleDateFormat("yyyyMMddHHmmssFFFF").format(new Date())}",           "RuleEquationUI": "${EggTypeMoment#RuleEquationUI}",           "RuleEquationDrools": "${EggTypeMoment#RuleEquationDrools}",           "Status": "P"                  }       }     ]   },   "ReleaseState": "P" }</con:value>
        </con:property>
        <con:property>
          <con:name>MomentId</con:name>
        </con:property>
      </con:properties>
      <con:returnProperties/>
      <con:runMode>SINGLETON_AND_WAIT</con:runMode>
    </con:config>
  </con:testStep>
  <con:testStep id="1aea122a-aaab-4169-9cb9-22109e975ba5" name="AddPurchaseTransactionForVictimProfile" type="restrequest">
    <con:settings/>
    <con:config xsi:type="con:RestRequestStep" methodName="ProcessTransaction" resourcePath="/api/v2/transaction" service="RestAPIs" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:restRequest id="718bd064-a7af-4380-abb6-72819bd0b41a" mediaType="application/json" name="AddPurchaseTransactionForVictimProfile" postQueryString="false">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:request>{  
   "TransactionTypeCode":"PR",
   "ProfileId":"${#[Profile#AddVictimProfileRGR#AddProfileRGR]#Response#$['ProfileId']}",
   "GrossAmount":100.00,
   "TransactionTotalTax":0.00,
   "ShippingAndHandling":0.0,
   "Gratuity":0.0,
   "PostSalesAdjustment":0.0,
   "TransactionNetTotal":100.00,
   "TransactionEligible":100,
   "DiscountAmount":0.00,
   "TransactionNumber":"${=java.util.UUID.randomUUID()}",
   "TransactionDateTime":"${=new java.text.SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ssZ").format(new Date()+4)}",
   "StoreCode":"PP1501",
   "CurrencyCode":"USD",
   "TransactionDescription":"PR Transaction",
   
}</con:request>
        <con:originalUri>https://q3alin-pveapi.skynetlowerenv.com/api/v2/transaction</con:originalUri>
        <con:assertion type="Valid HTTP Status Codes" id="1a8e63d8-5393-464d-b0d5-5c56f76f1c3f" name="Valid HTTP Status Codes">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters>
          <con:entry key="Authorization" value="OAuth ${#Project#AuthToken}"/>
          <con:entry key="content-type" value="application/json"/>
          <con:entry key="Accept-Language" value="en-US"/>
          <con:entry key="Program-Code" value="${#Project#ProgramCode}"/>
        </con:parameters>
        <con:parameterOrder>
          <con:entry>Authorization</con:entry>
          <con:entry>content-type</con:entry>
          <con:entry>Accept-Language</con:entry>
          <con:entry>Program-Code</con:entry>
        </con:parameterOrder>
        <con:environmentSpec>
          <con:entry environmentId="d653788f-b849-4013-8db6-47ad297cdee5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="3c955a23-3567-47af-b6e9-aacfcca8d9aa">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="47bb433b-fb70-41f0-b289-86004efd1deb">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep id="367f242c-2dce-41f3-8dc0-9a91b95c43fe" name="AddPurchaseTransactionForSurvivorProfile" type="restrequest">
    <con:settings/>
    <con:config xsi:type="con:RestRequestStep" methodName="ProcessTransaction" resourcePath="/api/v2/transaction" service="RestAPIs" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:restRequest id="718bd064-a7af-4380-abb6-72819bd0b41a" mediaType="application/json" name="AddPurchaseTransactionForSurvivorProfile" postQueryString="false">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:request>{  
   "TransactionTypeCode":"PR",
   "ProfileId":"${#[Profile#AddProfileRGR#AddProfileRGR]#Response#$['ProfileId']}",
   "GrossAmount":100.00,
   "TransactionTotalTax":0.00,
   "ShippingAndHandling":0.0,
   "Gratuity":0.0,
   "PostSalesAdjustment":0.0,
   "TransactionNetTotal":100.00,
   "TransactionEligible":100,
   "DiscountAmount":0.00,
   "TransactionNumber":"${=java.util.UUID.randomUUID()}",
   "TransactionDateTime":"${=new java.text.SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ssZ").format(new Date()+4)}",
   "StoreCode":"PP1501",
   "CurrencyCode":"USD",
   "TransactionDescription":"PR Transaction",
   
}</con:request>
        <con:originalUri>https://q3alin-pveapi.skynetlowerenv.com/api/v2/transaction</con:originalUri>
        <con:assertion type="Valid HTTP Status Codes" id="1a8e63d8-5393-464d-b0d5-5c56f76f1c3f" name="Valid HTTP Status Codes">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters>
          <con:entry key="Authorization" value="OAuth ${#Project#AuthToken}"/>
          <con:entry key="content-type" value="application/json"/>
          <con:entry key="Accept-Language" value="en-US"/>
          <con:entry key="Program-Code" value="${#Project#ProgramCode}"/>
        </con:parameters>
        <con:parameterOrder>
          <con:entry>Authorization</con:entry>
          <con:entry>content-type</con:entry>
          <con:entry>Accept-Language</con:entry>
          <con:entry>Program-Code</con:entry>
        </con:parameterOrder>
        <con:environmentSpec>
          <con:entry environmentId="d653788f-b849-4013-8db6-47ad297cdee5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="3c955a23-3567-47af-b6e9-aacfcca8d9aa">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="47bb433b-fb70-41f0-b289-86004efd1deb">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="GetPointSummaryForVictimProfile" id="9fea752d-6bc4-4111-a308-30d05de94adf">
    <con:settings/>
    <con:config service="RestAPIs" resourcePath="/api/v1/profiles/{profileId}/points/summary" methodName="GetPointsSummary" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:restRequest name="GetPointSummaryForVictimProfile" id="90aa5f43-a530-41eb-9446-2dde6c33780e" mediaType="application/json">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:endpoint>https://d3aldv-pveapi.skynetlowerenv.com/</con:endpoint>
        <con:request/>
        <con:originalUri>https://q3alin-pveapi.skynetlowerenv.com/api/v1/profiles/05ce7ac3-6679-45ad-9ae7-c2287ffd649f/points/summary</con:originalUri>
        <con:assertion type="Valid HTTP Status Codes" id="a2b57955-3fde-4c66-adb1-90891f423c99" name="Valid HTTP Status Codes">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="JsonPath Match" id="a9bab836-96dd-4151-b056-c57d1dc0d122" name="JSONPath Match">
          <con:configuration>
            <path>$.[?(@.MomentId == '${#[Moment#UpsertMoment#CreateMoment]#Response#$['MomentId']}' &amp;&amp; @.ActTransactionId == '${AddPurchaseTransactionForVictimProfile#Response#$['TransactionId']}')].PointsAmount</path>
            <content>[200.0]</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters>
          <con:entry key="Authorization" value="OAuth ${#Project#AuthToken}"/>
          <con:entry key="profileId" value="${#[Profile#AddVictimProfileRGR#AddProfileRGR]#Response#$['ProfileId']}"/>
          <con:entry key="content-type" value="application/json"/>
          <con:entry key="Accept-Language" value="en-US"/>
          <con:entry key="status" value="A"/>
        </con:parameters>
        <con:parameterOrder>
          <con:entry>profileId</con:entry>
          <con:entry>status</con:entry>
          <con:entry>Accept-Language</con:entry>
          <con:entry>Authorization</con:entry>
          <con:entry>content-type</con:entry>
        </con:parameterOrder>
        <con:environmentSpec>
          <con:entry environmentId="47bb433b-fb70-41f0-b289-86004efd1deb">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="GetPointSummaryForSurvivorProfile" id="4bd0efd5-e3c4-4d67-8989-38b60f589012">
    <con:settings/>
    <con:config service="RestAPIs" resourcePath="/api/v1/profiles/{profileId}/points/summary" methodName="GetPointsSummary" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:restRequest name="GetPointSummaryForSurvivorProfile" id="90aa5f43-a530-41eb-9446-2dde6c33780e" mediaType="application/json">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:endpoint>https://d3aldv-pveapi.skynetlowerenv.com/</con:endpoint>
        <con:request/>
        <con:originalUri>https://q3alin-pveapi.skynetlowerenv.com/api/v1/profiles/05ce7ac3-6679-45ad-9ae7-c2287ffd649f/points/summary</con:originalUri>
        <con:assertion type="Valid HTTP Status Codes" id="a2b57955-3fde-4c66-adb1-90891f423c99" name="Valid HTTP Status Codes">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="JsonPath Match" id="a9bab836-96dd-4151-b056-c57d1dc0d122" name="JSONPath Match">
          <con:configuration>
            <path>$.[?(@.MomentId == '${#[Moment#UpsertMoment#CreateMoment]#Response#$['MomentId']}' &amp;&amp; @.ActTransactionId == '${AddPurchaseTransactionForSurvivorProfile#Response#$['TransactionId']}')].PointsAmount</path>
            <content>[200.0]</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters>
          <con:entry key="Authorization" value="OAuth ${#Project#AuthToken}"/>
          <con:entry key="profileId" value="${#[Profile#AddProfileRGR#AddProfileRGR]#Response#$['ProfileId']}"/>
          <con:entry key="content-type" value="application/json"/>
          <con:entry key="Accept-Language" value="en-US"/>
          <con:entry key="status" value="A"/>
        </con:parameters>
        <con:parameterOrder>
          <con:entry>profileId</con:entry>
          <con:entry>status</con:entry>
          <con:entry>Accept-Language</con:entry>
          <con:entry>Authorization</con:entry>
          <con:entry>content-type</con:entry>
        </con:parameterOrder>
        <con:environmentSpec>
          <con:entry environmentId="47bb433b-fb70-41f0-b289-86004efd1deb">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="calltestcase" name="Merge Profiles" id="16abb857-7af5-43bf-b774-5421cae920e6">
    <con:settings/>
    <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:targetTestCase>a8cd971b-fab6-43b8-87bd-9544f8860872</con:targetTestCase>
      <con:properties>
        <con:property>
          <con:name>Body</con:name>
          <con:value>{   "SecondaryId": "${#[Profile#AddVictimProfileRGR#AddProfileRGR]#Response#$['ProfileId']}" }</con:value>
        </con:property>
      </con:properties>
      <con:returnProperties/>
      <con:runMode>SINGLETON_AND_WAIT</con:runMode>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="GetPointSummaryForVictimProfileAfterPointMerge" id="3d985110-5879-402a-afad-1e8edb1dec89">
    <con:settings/>
    <con:config service="RestAPIs" resourcePath="/api/v1/profiles/{profileId}/points/summary" methodName="GetPointsSummary" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:restRequest name="GetPointSummaryForVictimProfileAfterPointMerge" id="90aa5f43-a530-41eb-9446-2dde6c33780e" mediaType="application/json">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:endpoint>https://d3aldv-pveapi.skynetlowerenv.com/</con:endpoint>
        <con:request/>
        <con:originalUri>https://q3alin-pveapi.skynetlowerenv.com/api/v1/profiles/05ce7ac3-6679-45ad-9ae7-c2287ffd649f/points/summary</con:originalUri>
        <con:assertion type="Valid HTTP Status Codes" id="a2b57955-3fde-4c66-adb1-90891f423c99" name="Valid HTTP Status Codes">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="Simple Equals" id="8f7cd02f-db15-46de-92d2-36d53b940e5a" name="Equals">
          <con:configuration>
            <patternText>null</patternText>
            <caseSensitive>true</caseSensitive>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters>
          <con:entry key="Authorization" value="OAuth ${#Project#AuthToken}"/>
          <con:entry key="profileId" value="${#[Profile#AddVictimProfileRGR#AddProfileRGR]#Response#$['ProfileId']}"/>
          <con:entry key="content-type" value="application/json"/>
          <con:entry key="Accept-Language" value="en-US"/>
          <con:entry key="status" value="A"/>
        </con:parameters>
        <con:parameterOrder>
          <con:entry>profileId</con:entry>
          <con:entry>status</con:entry>
          <con:entry>Accept-Language</con:entry>
          <con:entry>Authorization</con:entry>
          <con:entry>content-type</con:entry>
        </con:parameterOrder>
        <con:environmentSpec>
          <con:entry environmentId="47bb433b-fb70-41f0-b289-86004efd1deb">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="GetPointSummaryForSurvivorProfileAfterPointMerge" id="41186f58-ef67-4a1a-9df3-4df062c85db9">
    <con:settings/>
    <con:config service="RestAPIs" resourcePath="/api/v1/profiles/{profileId}/points/summary" methodName="GetPointsSummary" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:restRequest name="GetPointSummaryForSurvivorProfileAfterPointMerge" id="90aa5f43-a530-41eb-9446-2dde6c33780e" mediaType="application/json">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:endpoint>https://d3aldv-pveapi.skynetlowerenv.com/</con:endpoint>
        <con:request/>
        <con:originalUri>https://q3alin-pveapi.skynetlowerenv.com/api/v1/profiles/05ce7ac3-6679-45ad-9ae7-c2287ffd649f/points/summary</con:originalUri>
        <con:assertion type="Valid HTTP Status Codes" id="a2b57955-3fde-4c66-adb1-90891f423c99" name="Valid HTTP Status Codes">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="JsonPath Match" id="d0bd6514-15f2-44d2-9872-15e0850b921d" name="JSONPath Match">
          <con:configuration>
            <path>$.[?(@.MomentId == '${#[Moment#UpsertMoment#CreateMoment]#Response#$['MomentId']}' &amp;&amp; @.ActTransactionId == '${AddPurchaseTransactionForVictimProfile#Response#$['TransactionId']}')].PointsAmount</path>
            <content>[200.0]</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters>
          <con:entry key="Authorization" value="OAuth ${#Project#AuthToken}"/>
          <con:entry key="profileId" value="${#[Profile#AddProfileRGR#AddProfileRGR]#Response#$['ProfileId']}"/>
          <con:entry key="content-type" value="application/json"/>
          <con:entry key="Accept-Language" value="en-US"/>
          <con:entry key="status" value="A"/>
        </con:parameters>
        <con:parameterOrder>
          <con:entry>profileId</con:entry>
          <con:entry>status</con:entry>
          <con:entry>Accept-Language</con:entry>
          <con:entry>Authorization</con:entry>
          <con:entry>content-type</con:entry>
        </con:parameterOrder>
        <con:environmentSpec>
          <con:entry environmentId="47bb433b-fb70-41f0-b289-86004efd1deb">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="calltestcase" name="Deactivate Moment" id="418a9c39-9b28-4094-8556-40987a97e88e">
    <con:settings/>
    <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:targetTestCase>c903534c-32ad-44dc-9cb6-a72fc8de1482</con:targetTestCase>
      <con:properties>
        <con:property>
          <con:name>MomentId</con:name>
        </con:property>
      </con:properties>
      <con:returnProperties/>
      <con:runMode>SINGLETON_AND_WAIT</con:runMode>
    </con:config>
  </con:testStep>
  <con:properties/>
  <con:reportParameters/>
  <con:breakPoints>
    <con:testStepId>766c5930-ee65-4789-ae3b-213485c3e6de</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>526b7add-14f2-4798-826d-5d1c6dbacacb</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>28825b90-5f7c-4531-b5ac-5ce25cf8c4c5</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
</con:testCase>
