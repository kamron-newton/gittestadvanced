<?xml version="1.0" encoding="UTF-8"?>
<con:testCase id="1202f3fc-dbbe-4948-8066-60db3a99c703" discardOkResults="false" failOnError="true" failTestCaseOnErrors="true" keepSession="false" name="RewardCertificateAssignToPrimaryProfileThruTrans" searchProperties="true" timeout="0" xmlns:con="http://eviware.com/soapui/config">
  <con:settings>
    <con:setting id="1202f3fc-dbbe-4948-8066-60db3a99c703fileName">RewardCertificateAssignToPrimaryProfileThruTrans</con:setting>
  </con:settings>
  <con:testStep type="calltestcase" name="AddZeroPointRewCert" id="0fe6615d-203c-4a9e-a1b3-d5a09681c75f">
    <con:settings/>
    <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:targetTestCase>b0e59d1f-668c-447f-97ba-db756cd98388</con:targetTestCase>
      <con:properties>
        <con:property>
          <con:name>rewardCode</con:name>
        </con:property>
      </con:properties>
      <con:returnProperties>
        <con:entry>rewardCode</con:entry>
      </con:returnProperties>
      <con:runMode>SINGLETON_AND_WAIT</con:runMode>
    </con:config>
  </con:testStep>
  <con:testStep type="calltestcase" name="UpsertMoment" id="3cffb48a-fc26-49cd-ab1e-6c48a5459ec9">
    <con:settings/>
    <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:targetTestCase>58a85117-5558-4be0-b68f-214c9fbde4c3</con:targetTestCase>
      <con:properties>
        <con:property>
          <con:name>MomentName</con:name>
          <con:value>RGRREWARDCERT</con:value>
        </con:property>
        <con:property>
          <con:name>CreateBody</con:name>
          <con:value>{   "MomentCode": "${UpsertMoment#MomentName}",    "Description": "RGRREWARDCERT",   "MomentType": "REWARD_CERTIFICATES",   "StartDate": "2018-08-01T00:00:00Z",   "StartDateString": "08/01/2018 12:00:00 AM",   "EndDate": "2030-12-31T23:59:59Z",   "EndDateString": "12/31/2030 11:59:59 PM",   "MomentStatus": "A",   "MomentEvent": {     "MomentCode": "RGRREWARDCERT",     "EventType": "PurchaseTxn",     "MomentQualifyingDateAttribute": "CurrentDateTime",     "MomentQualifyingDateAttributeDrools": "$PurchaseTxn:PurchaseTxnC(IsItBetween( new Date() ,\"8/1/2018 12:00:00 AM\",\"12/31/2020 11:59:59 PM\"))",     "MomentOffers": [       {         "MomentCode": "RGRREWARDCERT",         "EventType": "PurchaseTxn",         "OfferName": "RGRREWARDCERT",         "Description": "RGRREWARDCERT",         "MomentOutcome": {           "MomentCode": "RGRREWARDCERT",           "EventType": "PurchaseTxn",           "OfferName": "RGRREWARDCERT",           "OutcomeEquationUi": "\"ZEROCERTRWD\"",           "CalculationTemplate": "&lt;reward_certificate,[String]>",           "OutcomeEquationTemplate": "%5B%7B%22name%22%3A%22reward_certificate%22%2C%22type%22%3A%22String%22%2C%22objType%22%3A%22var%22%2C%22id%22%3A%22variable_0%22%2C%22value%22%3A%22%5C%22ZEROCERTREWARD%5C%22%22%2C%22isSelect%22%3Afalse%2C%22funcName%22%3A%22%22%2C%22filterType%22%3A%22%22%2C%22drools%22%3A%22%22%2C%22collectionAttribute%22%3Afalse%2C%22refId%22%3A%22%22%7D%2C%7B%22name%22%3A%22%22%2C%22type%22%3A%22%22%2C%22objType%22%3A%22drools%22%2C%22id%22%3A%22%22%2C%22value%22%3A%22String.valueOf(%5C%22ZEROCERTREWARD%5C%22)%22%2C%22isSelect%22%3Afalse%2C%22funcName%22%3A%22%22%2C%22filterType%22%3A%22%22%2C%22drools%22%3A%22%22%2C%22collectionAttribute%22%3Afalse%2C%22refId%22%3A%22%22%7D%5D",           "OutcomeEquationDrools": "",          "FormulaName": "FIXED_POINT_CERTIFICATE",           "Status": "A"        },         "MomentQualifyingRule": {           "MomentCode": "RGRREWARDCERT",           "EventType": "PurchaseTxn",           "OfferName": "RGRREWARDCERT",           "RuleEquationUI": "PurchaseTxn.ProgramCode==\"PP\"&amp;&amp;PurchaseTxn.TransactionEligible >=5000",           "RuleEquationDrools": "PurchaseTxnC(ProgramCode == \"PP\" &amp;&amp; TransactionEligible >= 5000)",           "Status": "A"                    },         "Status": "A"              }     ],     "Status": "A"        },   "BestOfferIndicator": false,   "AdvancedModeIndicator": false,   "ReleaseState": "P",   "IsTestUser": false,    }</con:value>
        </con:property>
        <con:property>
          <con:name>UpdateBody</con:name>
          <con:value>{   "MomentCode": "${UpsertMoment#MomentName}",    "Description": "${UpsertMoment#MomentName}",   "MomentType": "REWARD_CERTIFICATES",   "StartDate": "2018-08-01T00:00:00Z",   "StartDateString": "08/01/2018 12:00:00 AM",   "EndDate": "2030-12-31T23:59:59Z",   "EndDateString": "12/31/2030 11:59:59 PM",   "MomentStatus": "A",   "MomentEvent": {     "MomentCode": "${UpsertMoment#MomentName}",     "EventType": "PurchaseTxn",     "MomentQualifyingDateAttribute": "CurrentDateTime",     "MomentQualifyingDateAttributeDrools": "$PurchaseTxn:PurchaseTxnC(IsItBetween( new Date() ,\"8/1/2018 12:00:00 AM\",\"12/31/2020 11:59:59 PM\"))",     "MomentOffers": [       {         "MomentCode": "${UpsertMoment#MomentName}",         "EventType": "PurchaseTxn",         "OfferName": "${UpsertMoment#MomentName}",         "Description": "${UpsertMoment#MomentName}",         "MomentOutcome": {           "MomentCode": "${UpsertMoment#MomentName}",           "EventType": "PurchaseTxn",           "OfferName": "${UpsertMoment#MomentName}",           "OutcomeEquationUi": "\"ZEROCERTRWD\"",           "CalculationTemplate": "&lt;reward_certificate,[String]>",           "OutcomeEquationTemplate": "%5B%7B%22name%22%3A%22reward_certificate%22%2C%22type%22%3A%22String%22%2C%22objType%22%3A%22var%22%2C%22id%22%3A%22variable_0%22%2C%22value%22%3A%22%5C%22ZEROCERTREWARD%5C%22%22%2C%22isSelect%22%3Afalse%2C%22funcName%22%3A%22%22%2C%22filterType%22%3A%22%22%2C%22drools%22%3A%22%22%2C%22collectionAttribute%22%3Afalse%2C%22refId%22%3A%22%22%7D%2C%7B%22name%22%3A%22%22%2C%22type%22%3A%22%22%2C%22objType%22%3A%22drools%22%2C%22id%22%3A%22%22%2C%22value%22%3A%22String.valueOf(%5C%22ZEROCERTREWARD%5C%22)%22%2C%22isSelect%22%3Afalse%2C%22funcName%22%3A%22%22%2C%22filterType%22%3A%22%22%2C%22drools%22%3A%22%22%2C%22collectionAttribute%22%3Afalse%2C%22refId%22%3A%22%22%7D%5D",           "OutcomeEquationDrools": "",          "FormulaName": "FIXED_POINT_CERTIFICATE",           "Status": "A"        },         "MomentQualifyingRule": {           "MomentCode": "${UpsertMoment#MomentName}",           "EventType": "PurchaseTxn",           "OfferName": "${UpsertMoment#MomentName}",           "RuleEquationUI": "PurchaseTxn.ProgramCode==\"PP\"&amp;&amp;PurchaseTxn.TransactionEligible >=5000",           "RuleEquationDrools": "PurchaseTxnC(ProgramCode == \"PP\" &amp;&amp; TransactionEligible >= 5000)",           "Status": "A"                    },         "Status": "A"              }     ],     "Status": "A"        },   "BestOfferIndicator": false,   "AdvancedModeIndicator": false,   "ReleaseState": "P",   "IsTestUser": false,   "Status": "A"   }</con:value>
        </con:property>
        <con:property>
          <con:name>MomentId</con:name>
          <con:value/>
        </con:property>
      </con:properties>
      <con:returnProperties/>
      <con:runMode>SINGLETON_AND_WAIT</con:runMode>
    </con:config>
  </con:testStep>
  <con:properties/>
  <con:reportParameters/>
</con:testCase>
